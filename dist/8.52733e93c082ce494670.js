(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"ciF/":function(e,t,n){"use strict";n.r(t);var c=n("Valr"),r=n("PCNd"),i=n("DUip"),o=n("WdUJ"),a=n("0DUh"),s=n("6onV"),l=function(e){return e.ChooseCategory="[Activity] Choose Category",e.CategoryChosen="[Activity] Category Chosen",e.RequestMoreElements="[Activity] Request More Elements",e.MoreElementsRequested="[Activity] More Elements Requested",e.SelectDate="[Activity] Select Date",e.ToggleExpandPanel="[Activity] Toggle Expand Panel",e.ElementSelected="[Activity] Element Selected",e.SetCurrentVersionTree="[Activity] Set Current Version Tree",e.GetNodeActivityData="[Activity] Get Node Activity Data",e.SetNodeActivityData="[Activity] Set Log Data",e.Reset="[Activity] Reset",e.SetInquiryQuestions="[Activity] Set Inquiry Questions",e.GetCalendarStats="[Activity] Get Calendar Stats",e.SetCalendarMode="[Activity] Set Calendar Mode",e.GetMonthStats="[Activity] Get Month Stats",e.SetMonthStats="[Activity] Set Month Stats",e}({}),u=Object(s.g)(l.ChooseCategory,(function(e){return{selection:e}})),f=Object(s.g)(l.CategoryChosen,(function(e){return{selection:e}})),b=Object(s.g)(l.RequestMoreElements,Object(s.l)()),d=Object(s.g)(l.MoreElementsRequested,(function(e,t,n){return{elements:e,page:n,logs:t}})),p=(Object(s.g)(l.SelectDate,(function(e){return{date:e}})),Object(s.g)(l.ToggleExpandPanel,(function(e){return{panel:e}}))),g=Object(s.g)(l.ElementSelected,(function(e){return{element:e}})),h=Object(s.g)(l.SetCurrentVersionTree,(function(e){return{tree:e}})),m=Object(s.g)(l.GetNodeActivityData,(function(e){return{node:e}})),v=Object(s.g)(l.SetNodeActivityData,(function(e){return{data:e}})),y=Object(s.g)(l.Reset),O=Object(s.g)(l.SetInquiryQuestions,(function(e){return{inquiry:e}})),C=Object(s.g)(l.GetCalendarStats,(function(e){return{date:e}})),j=Object(s.g)(l.SetCalendarMode,(function(e){return{mode:e}})),w=Object(s.g)(l.GetMonthStats,(function(e,t){return{month:e,year:t}})),z=Object(s.g)(l.SetMonthStats,(function(e){return{info:e}})),x=n("zllq"),T=n("SpbU"),k=n("x2cC"),S=function(){return(S=Object.assign||function(e){for(var t,n=1,c=arguments.length;n<c;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},M=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e},I=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],c=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&c>=e.length&&(e=void 0),{value:e&&e[c++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_=x.a.Activity,E={mainCategories:["Latest","Today","Yesterday","This week","Last week","Inbox","Outbox"],selectedCategory:{index:0,category:"main"},listKeys:[],expandedPanels:{collaborations:!0,customViews:!0,tracked:!0},selectedElementKey:null,selectedVersionTree:null,selectedLogData:null,trackedFolderFilterPath:null,trackedFolderTreeNodes:null,latestEdgesLogs:{},latestNodesLogs:{},pageSize:15,pagesRead:{},savedInquiryQuestions:{},calendarStats:{},calendarMode:"month"},Y=Object(s.i)(E,Object(s.k)(f,(function(e,t){var n=t.selection;return n instanceof Date?S(S({},e),{trackedFolderFilterPath:null,listKeys:[],selectedCategory:n}):e.selectedCategory instanceof Date||n.category!==e.selectedCategory.category||n.index!==e.selectedCategory.index?S(S({},e),{trackedFolderFilterPath:n.filterPath,trackedFolderTreeNodes:n.treeNodes,listKeys:[],selectedCategory:S({},n)}):e})),Object(s.k)(d,(function(e,t){var n=t.elements,c=t.page,r=e.pageSize,i=M(e.listKeys);i.splice.apply(i,M([c*r,r],n.map(T.f),Array.from({length:r}))),n.length<r&&(i=i.filter((function(e){return void 0!==e})));var o=S({},e.pagesRead);return o[c]=!0,S(S({},e),{listKeys:i,pagesRead:o})})),Object(s.k)(p,(function(e,t){var n=t.panel,c=S({},e.expandedPanels);return c[n]=!c[n],S(S({},e),{expandedPanels:c})})),Object(s.k)(g,(function(e,t){var n=t.element;return S(S({},e),{selectedElementKey:n?Object(T.f)(n):null})})),Object(s.k)(h,(function(e,t){var n=t.tree;return S(S({},e),{selectedVersionTree:n})})),Object(s.k)(v,(function(e,t){var n=t.data;return S(S({},e),{selectedLogData:n})})),Object(s.k)(k.sb,(function(e,t){var n,c,r=t.activity,i=S({},e.latestNodesLogs);try{for(var o=I(r),a=o.next();!a.done;a=o.next()){var s=a.value;(!i[s.nodeId]||s.id>i[s.nodeId])&&(i[s.nodeId]=s.id)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(n)throw n.error}}return S(S({},e),{latestNodesLogs:i})})),Object(s.k)(k.gb,(function(e,t){var n,c,r=t.activity,i=S({},e.latestEdgesLogs);try{for(var o=I(r),a=o.next();!a.done;a=o.next()){var s=a.value;(!i[s.edgeId]||s.id>i[s.edgeId])&&(i[s.edgeId]=s.id)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(n)throw n.error}}return S(S({},e),{latestEdgesLogs:i})})),Object(s.k)(y,(function(e){return S(S({},e),{listKeys:Array.from({length:e.pageSize}),pagesRead:{}})})),Object(s.k)(O,(function(e,t){var n=t.inquiry,c=S({},e.savedInquiryQuestions);return n.forEach((function(e){var t=P(e,3),n=t[1];return c[n[0].id]={HEADId:n[1].id,questions:t[2],inquiryId:t[0]}})),S(S({},e),{savedInquiryQuestions:c})})),Object(s.k)(j,(function(e,t){var n=t.mode;return S(S({},e),{calendarMode:n})})),Object(s.k)(z,(function(e,t){var n,c,r,i=t.info;if(!(null===(r=i)||void 0===r?void 0:r.length))return e;var o={};try{for(var a=I(i),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.date,f=l.stats,b=u.toDateString(),d=u.getMonth(),p=u.getFullYear(),g=o[""+d+p];!g&&e.calendarStats[""+d+p]&&(g=S({},e.calendarStats[""+d+p])),g||(g={total:0,lastTodayTotal:0}),g[b]=f,b!==(new Date).toDateString()?g.total+=f:(g.total+=f-g.lastTodayTotal,g.lastTodayTotal=f),o[""+d+p]=g}}catch(h){n={error:h}}finally{try{s&&!s.done&&(c=a.return)&&c.call(a)}finally{if(n)throw n.error}}return S(S({},e),{calendarStats:S(S({},e.calendarStats),o)})})));function A(e,t){return Y(e,t)}var Z=n("v4c/"),D=n("J7TK"),B=n("Sit1"),K=function(){return(K=Object.assign||function(e){for(var t,n=1,c=arguments.length;n<c;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},F=Object(s.h)(_),N=Object(s.j)(F,(function(e){return e.listKeys})),R=Object(s.j)(F,(function(e){return e.latestNodesLogs})),L=Object(s.j)(F,(function(e){return e.latestEdgesLogs})),q=Object(s.j)(F,(function(e){return e.savedInquiryQuestions})),U=Object(s.j)(F,(function(e){return e.calendarStats})),V=Object(s.j)(F,(function(e){return e.calendarMode})),H=Object(s.j)(F,(function(e){return e.pageSize})),G=Object(s.j)(N,R,L,(function(e,t,n){var c;return null===(c=e)||void 0===c?void 0:c.map((function(e){if(!e||!n||!t)return null;var c=$(Object(T.i)(e),2),r=c[1];return(c[0]===Z.a.Node?t[r]:n[r])||null}))})),J=Object(s.j)(F,(function(e){return e.selectedVersionTree})),Q=Object(s.j)(Object(a.createElementListItemSelectorFromLogs)(G),(function(e){return e.slice().sort((function(e,t){var n,c;return(null===(n=e)||void 0===n?void 0:n.timestamp)&&(null===(c=t)||void 0===c?void 0:c.timestamp)?t.timestamp-e.timestamp:0}))})),W=Object(s.j)(F,Q,(function(e,t){if(!e||!e.selectedElementKey||!t)return null;var n=$(Object(T.i)(e.selectedElementKey),2),c=n[0],r=n[1];return t.find((function(e){return!!e&&c===Object(D.b)(e[0])&&r===e[0].id}))||null})),X=Object(s.j)(Object(a.createNodesAtHEADSelector)(Object(s.j)(a.selectNodes,(function(e){return e?Object.values(e).filter((function(e){return e.type===B.f.Inquiry})).map((function(e){return e.id})):[]}))),q,(function(e,t){return e&&t?e.filter((function(e){return!!e&&!e[1].archive})).map((function(e){var n,c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($(arguments[t]));return e}(e);return c[1]=K({},e[1]),c[1].questions=null===(n=t[e[0].id])||void 0===n?void 0:n.questions,c})):[]})),ee=Object(s.j)(X,q,(function(e,t){return e&&t?e.filter((function(e){var n,c,r=$(e,2),i=r[0];return!(null===(n=t[i.id])||void 0===n?void 0:n.questions)||(null===(c=t[i.id])||void 0===c?void 0:c.HEADId)!==r[1].id})):[]})),te=Object(s.j)(F,X,(function(e,t){var n;return(null===(n=e)||void 0===n?void 0:n.mainCategories)?(t||(t=[]),{main:e.mainCategories,peers:[],views:t.map((function(e){return e[0].id}))}):null})),ne=Object(s.j)(F,te,(function(e,t){var n=e.selectedCategory;return n instanceof Date?n:{category:n.category,item:t[n.category][n.index]}})),ce=n("pugT"),re=n("QjjB"),ie=n("HZvm"),oe=n("TYT/"),ae=n("o0su"),se=(n("aZax"),n("d4mk")),le=n("9jaY"),ue=n("mot0"),fe=n("yTlr"),be=n("fqqE"),de=n("ncJJ"),pe=n("5Oga"),ge=n("AzBT"),he=n("kZIA"),me=n("s/JR"),ve=n("DgGK"),ye=n("0KcM"),Oe=n("JB36"),Ce=n("G6CK"),je=n("MySR"),we=n("QJY3"),ze=n("Y1dP"),xe=n("Sh7c"),Te=n("hAso"),ke=function(){function e(){}return e.prototype.transform=function(e){return e instanceof Date},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"categoryIsDate",type:e,pure:!0}),e}(),Se=function(){function e(){}return e.prototype.transform=function(e,t,n,c){return!(!n||n instanceof Date)&&n.category===e&&c[e][n.index]===t},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"activateCategory",type:e,pure:!0}),e}(),Pe=function(){function e(){}return e.prototype.transform=function(e){return"Latest"===e?"field-time":"Today"===e?"calendar":"Inbox"===e?"download":"Outbox"===e?"upload":"history"},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"mainCatToIcon",type:e,pure:!0}),e}(),Me=function(){function e(){}return e.prototype.transform=function(e){return e instanceof Date?e:new Date},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"defaultDate",type:e,pure:!0}),e}(),Ie=function(){function e(){}return e.prototype.transform=function(e,t,n){if(!e||!t||!n)return null;if(e.toDateString()===n.toDateString())return null;if(e.getMonth()!==n.getMonth())return null;var c=t[""+e.getMonth()+e.getFullYear()];if(!c)return null;var r=c[e.toDateString()];if("number"!=typeof r)return null;var i=Object(T.y)(r,c.total,2),o=1;return 0===r&&(o=.7),"rgba("+i.R+", "+i.G+", "+i.B+", "+o+")"},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"dateActivityRateColor",type:e,pure:!0}),e}(),_e=function(){function e(){}return e.prototype.transform=function(e){return"number"!=typeof e?"":e+" events recorded"},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"activityRateToTitle",type:e,pure:!0}),e}(),Ee=function(){function e(){}return e.prototype.transform=function(e,t,n){if(!e||!t)return null;var c=e.getFullYear(),r=t[""+e.getMonth()+c];return r?"d"===n?r[e.toDateString()]||0:r.total:0},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"getActivityRate",type:e,pure:!0}),e}(),Ye=function(){function e(){}return e.prototype.transform=function(e,t,n){if(!e||!t||!n)return null;if(e.toDateString()===n.toDateString())return null;for(var c=e.getFullYear(),r=e.getMonth(),i=0,o=0;o<12;o++){var a=t[""+o+c];a&&(i+=a.total)}var s=t[""+r+c];if(!s)return null;var l=Object(T.y)(s.total,i,2),u=1;return 0===s.total&&(u=.7),"rgba("+l.R+", "+l.G+", "+l.B+", "+u+")"},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"monthActivityRateColor",type:e,pure:!0}),e}(),Ae=function(){function e(){}return e.prototype.transform=function(e){return Object(D.g)(e)?{id:null,lastActive:e[1].created,name:e[1].name,pinned:null,questions:e[1].questions,node:e}:null},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"inquiryNodeToSemiViewInquiry",type:e,pure:!0}),e}();function Ze(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"st-list-item",13),oe.hc("mousedown",(function(e){oe.Bc(n);var c=t.$implicit,r=t.index;return oe.kc(2)._selectCategory(c,r)})),oe.lc(1,"activateCategory"),oe.Ub(2,"i",14),oe.lc(3,"mainCatToIcon"),oe.Mc(4),oe.Yb()}if(2&e){var c=t.$implicit,r=oe.kc(2);oe.sc("activate",oe.pc(1,3,"main",c,r.activity.selectedCategory,r.categories)),oe.Cb(2),oe.sc("nzType",oe.mc(3,8,c)),oe.Cb(2),oe.Oc(" ",c," ")}}function De(e,t){if(1&e&&(oe.Zb(0,"span",23),oe.Mc(1),oe.lc(2,"date"),oe.Yb()),2&e){var n=oe.kc().ngVar,c=oe.kc(2);oe.Jb("highlightDate",n),oe.Cb(1),oe.Oc(" > ",oe.mc(2,3,c.activity.selectedCategory)," ")}}function Be(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",24),oe.Zb(1,"h3"),oe.Mc(2,"Select a date"),oe.Yb(),oe.Zb(3,"a",25),oe.hc("click",(function(e){return oe.Bc(n),oe.kc(3).today()})),oe.Mc(4,"Today"),oe.Yb(),oe.Yb()}}var Ke=function(){return{width:"300px",border:"1px solid #d9d9d9",borderRadius:"4px"}};function $e(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",26),oe.Zb(1,"nz-calendar",27),oe.hc("ngModelChange",(function(e){return oe.Bc(n),oe.kc(3).collectStats(e)}))("nzModeChange",(function(e){return oe.Bc(n),oe.kc(3).calendarModeChange.next(e)}))("nzSelectChange",(function(e){return oe.Bc(n),oe.kc(3).onDateChange(e)}))("nzPanelChange",(function(e){return oe.Bc(n),oe.kc(3).onPanelChange(e)})),oe.lc(2,"defaultDate"),oe.Yb(),oe.Yb()}if(2&e){oe.kc();var c=oe.Ac(10),r=oe.Ac(12),i=oe.kc(2);oe.sc("ngStyle",oe.vc(8,Ke)),oe.Cb(1),oe.sc("nzFullscreen",!1)("ngModel",oe.mc(2,6,null==i.activity?null:i.activity.selectedCategory))("nzMode",null==i.activity?null:i.activity.calendarMode)("nzDateFullCell",c)("nzMonthFullCell",r)}}function Fe(e,t){if(1&e&&(oe.Zb(0,"div",28),oe.lc(1,"dateActivityRateColor"),oe.lc(2,"activityRateToTitle"),oe.lc(3,"getActivityRate"),oe.Zb(4,"span"),oe.Mc(5),oe.lc(6,"date"),oe.Yb(),oe.Yb()),2&e){var n=t.$implicit,c=oe.kc(3);oe.Jc("background-color",oe.oc(1,4,n,c.calendarStats,c._date)),oe.sc("title",oe.mc(2,8,oe.oc(3,10,n,c.calendarStats,"d"))),oe.Cb(5),oe.Nc(oe.nc(6,14,n,"d"))}}function Ne(e,t){if(1&e&&(oe.Zb(0,"div",28),oe.lc(1,"monthActivityRateColor"),oe.lc(2,"activityRateToTitle"),oe.lc(3,"getActivityRate"),oe.Zb(4,"span"),oe.Mc(5),oe.lc(6,"date"),oe.Yb(),oe.Yb()),2&e){var n=t.$implicit,c=oe.kc(3);oe.Jc("background-color",oe.oc(1,4,n,c.calendarStats,c._date)),oe.sc("title",oe.mc(2,8,oe.oc(3,10,n,c.calendarStats,"m"))),oe.Cb(5),oe.Nc(oe.nc(6,14,n,"MMM"))}}function Re(e,t){if(1&e&&(oe.Zb(0,"st-list-item",15),oe.Zb(1,"a",16),oe.Ub(2,"i",17),oe.Mc(3," Calendar "),oe.Yb(),oe.Kc(4,De,3,5,"span",18),oe.Kc(5,Be,5,0,"ng-template",null,19,oe.Lc),oe.Kc(7,$e,3,9,"ng-template",null,20,oe.Lc),oe.Kc(9,Fe,7,17,"ng-template",null,21,oe.Lc),oe.Kc(11,Ne,7,17,"ng-template",null,22,oe.Lc),oe.Yb()),2&e){var n=t.ngVar,c=oe.Ac(6),r=oe.Ac(8);oe.sc("activate",n),oe.Cb(1),oe.Jb("highlightDate",n),oe.sc("nzPopoverTitle",c)("nzPopoverContent",r),oe.Cb(3),oe.sc("ngIf",n)}}var Le=function(){return{width:"300px",border:"1px solid #d9d9d9",borderRadius:"4px",transform:"scale(0.75) translateX(-50px) translateY(-20px)"}};function qe(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",29),oe.Zb(1,"div",26),oe.Zb(2,"nz-calendar",30),oe.hc("nzSelectChange",(function(e){return oe.Bc(n),oe.kc(2).onDateChange(e)})),oe.Yb(),oe.Yb(),oe.Yb()}2&e&&(oe.Cb(1),oe.sc("ngStyle",oe.vc(2,Le)),oe.Cb(1),oe.sc("nzFullscreen",!1))}function Ue(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",33),oe.Zb(1,"st-recent-search",34),oe.hc("mousedown",(function(e){oe.Bc(n);var c=t.index;return oe.kc(4).selectCategory.next({index:c,category:"views"})}))("contextmenu",(function(e){oe.Bc(n);var c=t.index,r=oe.kc(4);return r.onInquiryContextMenu(e,r.savedSearches[c])})),oe.lc(2,"inquiryNodeToSemiViewInquiry"),oe.lc(3,"activateCategory"),oe.Yb(),oe.Yb()}if(2&e){var c=t.$implicit,r=t.index,i=oe.kc(4);oe.Cb(1),oe.sc("inquiry",oe.mc(2,4,i.savedSearches[r]))("closable",!1)("pinnable",!1)("select",oe.pc(3,6,"views",c,i.activity.selectedCategory,i.categories))}}var Ve=function(){return[]};function He(e,t){if(1&e&&(oe.Zb(0,"div",29),oe.Kc(1,Ue,4,11,"div",32),oe.Yb()),2&e){var n=oe.kc(3);oe.Cb(1),oe.sc("ngForOf",n.categories.views||oe.vc(1,Ve))}}function Ge(e,t){if(1&e&&oe.Kc(0,He,2,2,"div",31),2&e){oe.kc();var n=oe.Ac(16),c=oe.kc();oe.sc("ngIf",null==c.savedSearches?null:c.savedSearches.length)("ngIfElse",n)}}function Je(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",35),oe.Zb(1,"button",36),oe.hc("click",(function(e){return oe.Bc(n),oe.kc(2).goToSearch.next()})),oe.Mc(2,"Create one"),oe.Yb(),oe.Yb()}}function Qe(e,t){1&e&&(oe.Zb(0,"div",29),oe.Zb(1,"st-collaboration-popup",37),oe.Zb(2,"a",38),oe.Mc(3,"Learn more"),oe.Yb(),oe.Yb(),oe.Yb()),2&e&&(oe.Cb(1),oe.sc("trigger","click")("title","See immediately what happened and by whom"))}var We=function(){return{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset"}};function Xe(e,t){if(1&e&&oe.Ub(0,"nz-badge",39),2&e){var n=oe.kc(2);oe.sc("nzCount",(null==n.categories?null:null==n.categories.views?null:n.categories.views.length)||0)("nzStyle",oe.vc(2,We))}}function et(e,t){1&e&&oe.Ub(0,"nz-badge",39),2&e&&oe.sc("nzCount",0)("nzStyle",oe.vc(2,We))}function tt(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",1),oe.Kc(1,Ze,5,10,"st-list-item",2),oe.Kc(2,Re,13,6,"st-list-item",3),oe.lc(3,"categoryIsDate"),oe.Zb(4,"nz-space",4),oe.Ub(5,"nz-divider"),oe.Zb(6,"nz-space-item"),oe.Zb(7,"st-small-collapse",5),oe.hc("expandChange",(function(e){return oe.Bc(n),oe.kc().toggleExpandPanel.next("collaborations")})),oe.Yb(),oe.Yb(),oe.Yb(),oe.Ub(8,"nz-divider"),oe.Zb(9,"nz-space-item"),oe.Zb(10,"st-small-collapse",6),oe.hc("expandChange",(function(e){return oe.Bc(n),oe.kc().toggleExpandPanel.next("customViews")})),oe.Yb(),oe.Yb(),oe.Kc(11,qe,3,3,"ng-template",null,7,oe.Lc),oe.Kc(13,Ge,1,2,"ng-template",null,8,oe.Lc),oe.Kc(15,Je,3,0,"ng-template",null,9,oe.Lc),oe.Kc(17,Qe,4,2,"ng-template",null,10,oe.Lc),oe.Kc(19,Xe,1,3,"ng-template",null,11,oe.Lc),oe.Kc(21,et,1,3,"ng-template",null,12,oe.Lc),oe.Yb()}if(2&e){var c=oe.Ac(14),r=oe.Ac(18),i=oe.Ac(20),o=oe.Ac(22),a=oe.kc();oe.Cb(1),oe.sc("ngForOf",a.categories.main),oe.Cb(1),oe.sc("ngVar",oe.mc(3,9,null==a.activity?null:a.activity.selectedCategory)),oe.Cb(2),oe.sc("nzSize",0),oe.Cb(3),oe.sc("content",r)("expanded",null==a.activity?null:a.activity.expandedPanels.collaborations)("headerExtra",o),oe.Cb(3),oe.sc("content",c)("expanded",null==a.activity?null:a.activity.expandedPanels.customViews)("headerExtra",i)}}var nt,ct=function(){function e(e,t,n){this.electron=e,this.drawerService=t,this.searchContextMenu=n,this.selectCategory=new oe.n,this.selectDate=new oe.n,this.toggleExpandPanel=new oe.n,this.collectCalendarStats=new oe.n,this.calendarModeChange=new oe.n,this.goToSearch=new oe.n}return e.prototype.ngOnInit=function(){this.collectStats(new Date)},e.prototype.ngOnChanges=function(e){},e.prototype.onDateChange=function(e){e instanceof Date&&this.selectDate.next(e)},e.prototype.onInquiryContextMenu=function(e,t){this.searchContextMenu.forRecentSearch().forSingleItem({edited:!1,reloadAction:y(),element:t,propertiesToEdit:le.c[t[0].type]}).show(e)},e.prototype.onPanelChange=function(e){var t,n;this.collectStats(null===(t=e)||void 0===t?void 0:t.date),this.onDateChange(null===(n=e)||void 0===n?void 0:n.date)},e.prototype.today=function(){var e=new Date;this.collectStats(e),this.onDateChange(e)},e.prototype.collectStats=function(e){e instanceof Date&&(this._date=e,this.collectCalendarStats.next(e))},e.prototype._selectCategory=function(e,t){this.selectCategory.next({index:t,category:"main"})},e.\u0275fac=function(t){return new(t||e)(oe.Tb(ae.c),oe.Tb(ue.c),oe.Tb(se.a))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-categories"]],inputs:{categories:"categories",activity:"activity",savedSearches:"savedSearches",calendarStats:"calendarStats"},outputs:{selectCategory:"selectCategory",selectDate:"selectDate",toggleExpandPanel:"toggleExpandPanel",collectCalendarStats:"collectCalendarStats",calendarModeChange:"calendarModeChange",goToSearch:"goToSearch"},features:[oe.Ab()],decls:1,vars:1,consts:[["id","container",4,"ngIf"],["id","container"],[3,"activate","mousedown",4,"ngFor","ngForOf"],[3,"activate",4,"ngVar"],["nzDirection","vertical",3,"nzSize"],["headerText","collaborations",3,"content","expanded","headerExtra","expandChange"],["headerText","custom views",3,"content","expanded","headerExtra","expandChange"],["date",""],["views",""],["createView",""],["peers",""],["viewsNumber",""],["collabNumber",""],[3,"activate","mousedown"],["nz-icon","","nzTheme","outline",2,"transform","scaleX(-1)",3,"nzType"],[3,"activate"],["nz-popover","","nzTrigger","click",3,"nzPopoverTitle","nzPopoverContent"],["nz-icon","","nzType","calendar","nzTheme","outline"],["nz-typography","","nzType","secondary","style","margin-left: 4px",3,"highlightDate",4,"ngIf"],["titleTemplate",""],["contentTemplate",""],["dateCell",""],["monthCell",""],["nz-typography","","nzType","secondary",2,"margin-left","4px"],["id","title"],[2,"margin-top","2px",3,"click"],[3,"ngStyle"],[3,"nzFullscreen","ngModel","nzMode","nzDateFullCell","nzMonthFullCell","ngModelChange","nzModeChange","nzSelectChange","nzPanelChange"],[3,"title"],[1,"panel"],[3,"nzFullscreen","nzSelectChange"],["class","panel",4,"ngIf","ngIfElse"],["id","wrap-list-item",4,"ngFor","ngForOf"],["id","wrap-list-item"],[3,"inquiry","closable","pinnable","select","mousedown","contextmenu"],["id","create-one-btn"],["nz-button","","nzSize","small",3,"click"],[3,"trigger","title"],["id","learn-more"],["nzShowZero","",1,"site-badge-count-4",3,"nzCount","nzStyle"]],template:function(e,t){1&e&&oe.Kc(0,tt,23,11,"div",0),2&e&&oe.sc("ngIf",t.categories)},directives:[c.t,c.s,me.a,ve.a,fe.a,ve.b,ye.a,Oe.a,Ce.a,je.a,be.a,de.c,c.w,pe.a,we.m,we.p,pe.d,pe.f,ze.a,ge.a,xe.a,Te.a,he.a],pipes:[ke,Se,Pe,c.f,Me,Ie,_e,Ee,Ye,Ae],styles:["[_nghost-%COMP%]{position:absolute;height:100%;left:0;top:0;overflow-y:scroll;overflow-x:hidden;box-sizing:border-box}#container[_ngcontent-%COMP%]{width:235px;height:100%;border-right:1px solid #e6e6e6;padding-top:10px}#container[_ngcontent-%COMP%]   #calendar-link[_ngcontent-%COMP%]{margin-left:15px;margin-top:10px;font-size:14px}.panel[_ngcontent-%COMP%]{width:250px;overflow-x:hidden;text-overflow:ellipsis}st-small-collapse[_ngcontent-%COMP%]{display:block;box-sizing:border-box}st-list-item[_ngcontent-%COMP%]{font-size:11pt;text-overflow:ellipsis}i[_ngcontent-%COMP%]{margin-right:10px;margin-left:8px;font-size:12pt}nz-divider[_ngcontent-%COMP%]{margin:15px 0 3px}#learn-more[_ngcontent-%COMP%]{font-size:10pt;margin-left:30px}#wrap-list-item[_ngcontent-%COMP%]{width:calc(100% - 15px)}.highlightDate[_ngcontent-%COMP%]{color:#d5ffd0}#title[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}#create-one-btn[_ngcontent-%COMP%]{margin:5px 5px 5px 30px}"],changeDetection:0}),e}(),rt=n("w1ql"),it=n("gRUR"),ot=n("gc4c"),at=(nt=function(e,t){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}nt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),st=function(e){function t(t){var n=e.call(this,t.select(Q).pipe(Object(it.b)(t.select(re.b),(function(e){return e===x.a.Activity}))))||this;return n.store=t,n}return at(t,e),t.prototype.fetchPage=function(e){this.store.dispatch(b(e))},t.\u0275fac=function(e){return new(e||t)(oe.dc(s.b))},t.\u0275prov=oe.Pb({token:t,factory:t.\u0275fac}),t}(ot.a),lt=n("pdUi"),ut=n("7dWL"),ft=n("niiR"),bt=function(){function e(){}return e.prototype.transform=function(e,t){if(!e||!t||!t.selectedElementKey)return!1;var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}(Object(T.i)(t.selectedElementKey),2),c=n[1];return e&&n[0]===Object(D.b)(e[0])&&c===e[0].id},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"highlight",type:e,pure:!0}),e}(),dt=function(){return{marginTop:"50px"}};function pt(e,t){1&e&&oe.Ub(0,"nz-empty",4),2&e&&oe.sc("ngStyle",oe.vc(2,dt))("nzNotFoundContent","No data in view")}function gt(e,t){if(1&e){var n=oe.ac();oe.Xb(0),oe.Zb(1,"st-graph-element-log-list-item",5),oe.hc("select",(function(e){return oe.Bc(n),oe.kc().select(e)})),oe.lc(2,"highlight"),oe.Yb(),oe.Wb()}if(2&e){var c=t.$implicit,r=oe.kc();oe.Cb(1),oe.sc("item",c)("highlight",oe.nc(2,2,c,r.activity))}}var ht=function(){function e(e,t,n,c){this.store=e,this.actions=t,this.router=n,this.ds=c,this.subscription=new ce.a,this.elementSelected=new oe.n}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.store.dispatch(y()),this.subscription.add(this.actions.pipe(Object(rt.d)(u)).subscribe((function(){return e.list.elementRef.nativeElement.scrollTop=0})))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.select=function(e){this.elementSelected.next(e)},e.prototype.open=function(e){switch(e[0].type){case B.f.Binary:return this._openBinary(e)}},e.prototype._openBinary=function(e){if(this.metadata&&this.metadata[Object(T.n)([e[0],{id:e[0].metadataId}])]){var t=this.metadata[Object(T.n)([e[0],{id:e[0].metadataId}])].path;return this.store.dispatch(Object(k.G)(t,e))}},e.\u0275fac=function(t){return new(t||e)(oe.Tb(s.b),oe.Tb(rt.a),oe.Tb(i.g),oe.Tb(st))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-elements-list"]],viewQuery:function(e,t){var n;1&e&&oe.Rc(lt.c,!0),2&e&&oe.zc(n=oe.ic())&&(t.list=n.first)},inputs:{activity:"activity",metadata:"metadata"},outputs:{elementSelected:"elementSelected"},features:[oe.Bb([st])],decls:5,vars:4,consts:[["id","container"],["itemSize","70",1,"demo-infinite-container"],[3,"ngStyle","nzNotFoundContent",4,"ngIf"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"ngStyle","nzNotFoundContent"],[3,"item","highlight","select"]],template:function(e,t){if(1&e&&(oe.Zb(0,"div",0),oe.Zb(1,"cdk-virtual-scroll-viewport",1),oe.Kc(2,pt,1,3,"nz-empty",2),oe.lc(3,"async"),oe.Kc(4,gt,3,5,"ng-container",3),oe.Yb(),oe.Yb()),2&e){var n,c=0===(null==(n=oe.mc(3,2,t.ds.dataStream))?null:n.length);oe.Cb(2),oe.sc("ngIf",c),oe.Cb(2),oe.sc("cdkVirtualForOf",t.ds)}},directives:[lt.c,lt.a,c.t,lt.b,ut.b,c.w,ft.a],pipes:[c.b,bt],styles:["[_nghost-%COMP%]{position:absolute;left:250px;bottom:0;top:0;width:100%;right:0;overflow-y:auto;overflow-x:hidden;box-sizing:border-box}#container[_ngcontent-%COMP%]{width:350px;height:100%;border-right:1px solid #e6e6e6}.demo-infinite-container[_ngcontent-%COMP%]{top:0;height:100%;overflow-y:scroll;overflow-x:hidden}nz-list[_ngcontent-%COMP%]{padding:5px}"],changeDetection:0}),e}(),mt=n("1l9M");function vt(e,t){if(1&e&&oe.Ub(0,"st-details",3),2&e){var n=oe.kc();oe.sc("elementKey",n.selectedElementKey)}}function yt(e,t){1&e&&(oe.Zb(0,"div",4),oe.Ub(1,"nz-empty",5),oe.Yb()),2&e&&(oe.Cb(1),oe.sc("nzNotFoundContent","Nothing selected"))}var Ot=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-graph-element-details-container"]],inputs:{selectedElementKey:"selectedElementKey"},decls:4,vars:2,consts:[["id","container"],[3,"elementKey",4,"ngIf","ngIfElse"],["empty",""],[3,"elementKey"],[2,"margin","20px"],[3,"nzNotFoundContent"]],template:function(e,t){if(1&e&&(oe.Zb(0,"div",0),oe.Kc(1,vt,1,1,"st-details",1),oe.Kc(2,yt,2,1,"ng-template",null,2,oe.Lc),oe.Yb()),2&e){var n=oe.Ac(3);oe.Cb(1),oe.sc("ngIf",t.selectedElementKey)("ngIfElse",n)}},directives:[c.t,mt.a,ut.b],styles:["[_nghost-%COMP%]{left:600px;bottom:0;right:0;overflow-y:auto;box-sizing:border-box}[_nghost-%COMP%], st-details[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}st-details[_ngcontent-%COMP%]{height:100%;left:0}#container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-x:hidden;font-size:14px}nz-input-group[_ngcontent-%COMP%]{margin-bottom:12px}.content[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1em}.content-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:16px}.content-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:8px}.content-image[_ngcontent-%COMP%]{margin:0 0 0 60px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.content-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media(max-width:768px){.content-image[_ngcontent-%COMP%]{-webkit-box-flex:100%;flex:100%;margin:24px 0 0}}"],changeDetection:0}),e}(),Ct=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-time-slider"]],decls:1,vars:0,consts:[["id","container"]],template:function(e,t){1&e&&oe.Ub(0,"div",0)},styles:["[_nghost-%COMP%]{position:absolute;left:250px;bottom:0;width:100%;overflow-y:auto;overflow-x:hidden;box-sizing:border-box}#container[_ngcontent-%COMP%]{background-color:#ff0;width:100%;height:0;border-right:1px solid #e6e6e6}"]}),e}(),jt=["headerContent"];function wt(e,t){if(1&e){var n=oe.ac();oe.Xb(0),oe.Zb(1,"st-categories",2),oe.hc("selectCategory",(function(e){return oe.Bc(n),oe.kc().selectCategory(e)}))("selectDate",(function(e){return oe.Bc(n),oe.kc().selectDate(e)}))("toggleExpandPanel",(function(e){return oe.Bc(n),oe.kc().toggleExpandCategoryPanel(e)}))("collectCalendarStats",(function(e){return oe.Bc(n),oe.kc().collectCalendarStats(e)}))("calendarModeChange",(function(e){return oe.Bc(n),oe.kc().setCalendarMode(e)}))("goToSearch",(function(e){return oe.Bc(n),oe.kc().goToSearch()})),oe.lc(2,"async"),oe.Yb(),oe.Zb(3,"st-elements-list",3),oe.hc("elementSelected",(function(e){return oe.Bc(n),oe.kc().elementSelected(e)})),oe.lc(4,"async"),oe.Yb(),oe.Ub(5,"st-graph-element-details-container",4),oe.Ub(6,"st-time-slider"),oe.Wb()}if(2&e){var c=oe.kc();oe.Cb(1),oe.sc("categories",oe.mc(2,7,c.categories$))("activity",c.activity)("savedSearches",c.savedSearches)("calendarStats",c.calendarStats),oe.Cb(2),oe.sc("activity",c.activity)("metadata",oe.mc(4,9,c.metadata$)),oe.Cb(2),oe.sc("selectedElementKey",null==c.activity?null:c.activity.selectedElementKey)}}function zt(e,t){}var xt=[{path:"",component:function(){function e(e,t,n,c){this.store=e,this.cdr=t,this.header=n,this.router=c,this.stCore$=this.store.select(a.selectStCore),this.metadata$=this.store.select(a.selectMetadata),this.categories$=this.store.select(te),this.activeVersionTree$=this.store.select(J),this.versionStore$=this.store.select(a.selectRecords),this.settings$=this.store.select(re.a),this.subscription=new ce.a}return e.prototype.ngOnInit=function(){var e=this;this.store.dispatch(Object(o.a)("Filter activity data...")),this.subscription.add(this.store.select(F).subscribe((function(t){e.activity=t,e.cdr.detectChanges()}))),this.subscription.add(this.store.select(X).subscribe((function(t){e.savedSearches=t,e.cdr.detectChanges()}))),this.subscription.add(this.store.select(U).subscribe((function(t){e.calendarStats=t,e.cdr.detectChanges()})))},e.prototype.ngAfterViewInit=function(){this.header.setContent(this.headerContent)},e.prototype.selectCategory=function(e){this.store.dispatch(u(e))},e.prototype.selectDate=function(e){this.store.dispatch(u(e))},e.prototype.toggleExpandCategoryPanel=function(e){this.store.dispatch(p(e))},e.prototype.elementSelected=function(e){var t;(null===(t=this.activity)||void 0===t?void 0:t.selectedElementKey)!==Object(T.f)(e)&&this.store.dispatch(g(e))},e.prototype.collectCalendarStats=function(e){e instanceof Date&&this.store.dispatch(C(e))},e.prototype.setCalendarMode=function(e){this.store.dispatch(j(e))},e.prototype.goToSearch=function(){this.router.navigate(["..",x.a.Search],{queryParams:{query:"anything"}})},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(oe.Tb(s.b),oe.Tb(oe.h),oe.Tb(ie.a),oe.Tb(i.g))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-activity"]],viewQuery:function(e,t){var n;1&e&&oe.Rc(jt,!0),2&e&&oe.zc(n=oe.ic())&&(t.headerContent=n.first)},decls:4,vars:3,consts:[[4,"ngIf"],["headerContent",""],[3,"categories","activity","savedSearches","calendarStats","selectCategory","selectDate","toggleExpandPanel","collectCalendarStats","calendarModeChange","goToSearch"],[3,"activity","metadata","elementSelected"],[1,"position",3,"selectedElementKey"]],template:function(e,t){1&e&&(oe.Kc(0,wt,7,11,"ng-container",0),oe.lc(1,"async"),oe.Kc(2,zt,0,0,"ng-template",null,1,oe.Lc)),2&e&&oe.sc("ngIf",oe.mc(1,1,t.stCore$))},directives:[c.t,ct,ht,Ot,Ct],pipes:[c.b],styles:[".position[_ngcontent-%COMP%]{left:600px;width:calc(100% - 600px)}"]}),e}()}],Tt=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c,i.j.forChild(xt)],i.j]}),e}(),kt=n("Phjn"),St=n("/PH2"),Pt=n("VnD/"),Mt=n("psW0"),It=n("67Y/"),_t=n("9Z1F"),Et=n("KD6q"),Yt=n("F/XL"),At=n("0/uQ"),Zt=n("G5J1"),Dt=n("909l"),Bt=n("6blF");function Kt(e,t,n){return void 0===e&&(e=0),new Bt.a((function(c){void 0===t&&(t=e,e=0);var r=0,i=e;if(n)return n.schedule($t,0,{index:r,count:t,start:e,subscriber:c});for(;;){if(r++>=t){c.complete();break}if(c.next(i++),c.closed)break}}))}function $t(e){var t=e.start,n=e.index,c=e.subscriber;n>=e.count?c.complete():(c.next(t),c.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var Ft=n("dJ3e"),Nt=n("eMz3"),Rt=n("rTk+"),Lt=n("ITQu"),qt=n("lI5s"),Ut=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Vt=function(){function e(e,t,n,c){var r=this;this.action$=e,this.store$=t,this.engine=n,this.graphUtils=c,this.chooseCategory$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(u),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(r.store$.select(F)))})),Object(it.a)("change category selection"),Object(Pt.a)((function(e){var t=Ut(e,2),n=t[0].selection,c=t[1].selectedCategory;return n instanceof Date||c instanceof Date||n.category!==c.category||n.index!==c.index})),Object(Mt.a)((function(e){var t=Ut(e,1);return[f(t[0].selection),y()]})))})),this.reset$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(y),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(r.store$.select(F)))})),Object(It.a)((function(e){var t=Ut(e,2);return b(st.pageToRange(0,t[1].pageSize))})))})),this.requestMoreElements$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(b),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(r.store$.select(H)))})),Object(kt.a)((function(e){var t=Ut(e,2),n=t[0],c=t[1];return Object(At.a)(st.rangeToPages(n,c)).pipe(Object(it.h)(),Object(Mt.a)((function(e){return Object(Yt.a)(null).pipe(Object(kt.a)((function(){return Object(Yt.a)(e).pipe(Object(St.a)(r.store$.select(ne),r.store$.select(F),r.store$.select(q)))})),Object(Pt.a)((function(t){return!Ut(t,3)[2].pagesRead[e]})),Object(it.a)("requesting more elements"),Object(Mt.a)((function(e){var t,n,i,o,a=Ut(e,4),s=a[0],l=a[1],u=a[2].calendarMode,f=a[3],b=r.engine.datastore.logs.select(Lt.a);if(l instanceof Date)return"month"===u&&(t=Ut(Object(le.d)(l),2),i=t[0],o=t[1]),"year"===u&&(n=Ut(Object(le.e)(l),2),i=n[0],o=n[1]),b.get$((function(e){return e.getLatestLogsForInterval(o,i,{page:s,pageSize:c})})).pipe(Object(_t.a)((function(e){return Object(Yt.a)([])})));var d=l.category,p=l.item;if(!d||!p)return Object(Yt.a)([]);switch(d){case"main":if("Inbox"===p||"Outbox"===p)return Object(Yt.a)([]);var g=Ut(Object(le.f)(p),2),h=g[0],m=g[1];return b.get$((function(e){return e.getLatestLogsForInterval(m,h,{page:s,pageSize:c})}));case"views":var v=f[p];return v?r.engine.search((function(e){return e.read(v.inquiryId,{includeLogs:!0,sort:qt.c.DESC},{page:s,pageSize:c})})).pipe(Object(It.a)((function(e){return e.logs}))):Zt.a}})),Object(it.a)("logs for more elements"),Object(Mt.a)((function(t){return Object(Yt.a)(Object(T.w)(t)).pipe(Object(Mt.a)((function(e){var t=e.nodeLogs,n=e.edgeLogs;return Object(Dt.a)(r.engine.datastore.graph.select(Rt.e).get$((function(e){return e.getElementPairsFromLogs(t)})),r.engine.datastore.graph.select(Rt.c).get$((function(e){return e.getElementPairsFromLogs(n)})))})),Object(It.a)((function(n){var c=Ut(n,2);return d([].concat(c[0],c[1]),t,e)})))})),Object(_t.a)((function(e){return Zt.a})))})))})))})),this.moreElementsRequested$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(d),Object(it.a)("adding elements to local graph"),Object(Mt.a)((function(e){var t=e.elements,n=e.logs,c=Object(T.w)(n),r=c.edgeLogs,i=c.nodeLogs,o=Object(T.x)(t),a=o.edgePairs,s=o.nodePairs,l=[];return r.length&&l.push(Object(k.gb)(r)),i.length&&l.push(Object(k.sb)(i)),s.length&&l.push(Object(k.f)(s)),a.length&&l.push(Object(k.e)(a)),l.length?l:Zt.a})),Object(_t.a)((function(e){return Zt.a})))})),this.getTrackers$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(d),Object(it.h)(),Object(It.a)((function(e){var t=e.elements,n=Object(T.x)(t).nodePairs;return Object(k.j)(n.map((function(e){return Ut(e,1)[0]})).filter((function(e){return e.type===B.f.Binary})))})))})),this.getNodeActivityData$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(m),Object(Mt.a)((function(e){return Object(Yt.a)(e.node).pipe(Object(Mt.a)((function(e){return r.engine.datastore.logs.select(Nt.a).get$((function(t){return t.find({nodeId:e.id})})).pipe(Object(It.a)((function(e){return v(e)})),Object(_t.a)((function(e){return Zt.a})))})))})))})),this.getCalendarStats$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(C),Object(kt.a)((function(e){return Object(Yt.a)(e.date).pipe(Object(St.a)(r.store$.select(V)))})),Object(Mt.a)((function(e){var t=Ut(e,2),n=t[0],c=t[1],r=n.getMonth(),i=n.getFullYear();return"month"===c?[w(r,i)]:Object(At.a)(Kt(0,12)).pipe(Object(It.a)((function(e){return w(e,i)})))})))})),this.getMonthStats$=Object(rt.c)((function(){return r.action$.pipe(Object(rt.d)(w),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(it.h)(),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(r.store$.select(U)))})),Object(Mt.a)((function(e){var t=Ut(e,2),n=t[0],c=n.month,i=n.year,o=t[1][""+c+i]||{};return Object(At.a)(Kt(1,31)).pipe(Object(It.a)((function(e){return new Date(i,c,e)})),Object(Pt.a)((function(e){return e.getTime()<=Date.now()&&("number"!=typeof o[e.toDateString()]||e.toDateString()===(new Date).toDateString())})),Object(Mt.a)((function(e){var t=Ut(Object(le.d)(e),2),n=t[0],c=t[1];return r.engine.datastore.logs.select(Lt.a).get$((function(e){return e.countBetween(n,c)})).pipe(Object(It.a)((function(t){return{date:e,stats:t}})),Object(_t.a)((function(e){return Zt.a})))})),Object(Et.a)(31),Object(It.a)((function(e){return z(e)})))})))})))}))}return e.\u0275fac=function(t){return new(t||e)(oe.dc(rt.a),oe.dc(s.b),oe.dc(Ft.b),oe.dc(Ft.e))},e.\u0275prov=oe.Pb({token:e,factory:e.\u0275fac}),e}(),Ht=n("RQUG"),Gt=n("r3C/"),Jt=n("apbf"),Qt=n("2nHq"),Wt=n("9oSV"),Xt=n("Ez4a"),en=n("fSKc"),tn=n("EA37"),nn=n("I51I"),cn=n("P4PA"),rn=n("mrSG"),on=n("ryCu"),an=n("zPI3"),sn=n("K9Ia"),ln=n("ny24"),un=n("p0Sj"),fn=n("bYjt"),bn=n("wmq6"),dn=n("jqYt");function pn(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"nz-breadcrumb-item"),oe.Zb(1,"a",2),oe.hc("click",(function(e){oe.Bc(n);var c=t.$implicit;return oe.kc(2).navigate(c.url,e)})),oe.Mc(2),oe.Yb(),oe.Yb()}if(2&e){var c=t.$implicit;oe.Cb(1),oe.Db("href",c.url,oe.Dc),oe.Cb(1),oe.Nc(c.label)}}function gn(e,t){if(1&e&&(oe.Xb(0),oe.Kc(1,pn,3,2,"nz-breadcrumb-item",1),oe.Wb()),2&e){var n=oe.kc();oe.Cb(1),oe.sc("ngForOf",n.breadcrumbs)}}var hn=["*"];function mn(e,t){}function vn(e,t){1&e&&oe.Ub(0,"i",6)}function yn(e,t){if(1&e&&(oe.Xb(0),oe.Zb(1,"span",3),oe.Kc(2,mn,0,0,"ng-template",4),oe.Kc(3,vn,1,0,"i",5),oe.Yb(),oe.Wb()),2&e){var n=oe.kc(),c=oe.Ac(2);oe.Cb(1),oe.sc("nzDropdownMenu",n.nzOverlay),oe.Cb(1),oe.sc("ngTemplateOutlet",c),oe.Cb(1),oe.sc("ngIf",!!n.nzOverlay)}}function On(e,t){1&e&&(oe.Zb(0,"span",7),oe.qc(1),oe.Yb())}function Cn(e,t){if(1&e&&(oe.Xb(0),oe.Mc(1),oe.Wb()),2&e){var n=oe.kc(2);oe.Cb(1),oe.Oc(" ",n.nzBreadCrumbComponent.nzSeparator," ")}}function jn(e,t){if(1&e&&(oe.Zb(0,"span",8),oe.Kc(1,Cn,2,1,"ng-container",9),oe.Yb()),2&e){var n=oe.kc();oe.Cb(1),oe.sc("nzStringTemplateOutlet",n.nzBreadCrumbComponent.nzSeparator)}}var wn=function(){function e(e,t,n,c,r){this.injector=e,this.ngZone=t,this.cdr=n,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.breadcrumbs=[],this.destroy$=new sn.a,r.addClass(c.nativeElement,"ant-breadcrumb")}return e.prototype.ngOnInit=function(){this.nzAutoGenerate&&this.registerRouterChange()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.navigate=function(e,t){var n=this;t.preventDefault(),this.ngZone.run((function(){return n.injector.get(i.g).navigateByUrl(e).then()})).then()},e.prototype.registerRouterChange=function(){var e=this;try{var t=this.injector.get(i.g),n=this.injector.get(i.a);t.events.pipe(Object(Pt.a)((function(e){return e instanceof i.c})),Object(ln.a)(this.destroy$),Object(un.a)(!0)).subscribe((function(){e.breadcrumbs=e.getBreadcrumbs(n.root),e.cdr.markForCheck()}))}catch(c){throw new Error(on.a+" You should import RouterModule if you want to use 'NzAutoGenerate'.")}},e.prototype.getBreadcrumbs=function(e,t,n){var c,r;void 0===t&&(t=""),void 0===n&&(n=[]);var o=e.children;if(0===o.length)return n;try{for(var a=Object(rn.h)(o),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.outlet===i.f){var u=l.snapshot.url.map((function(e){return e.path})).join("/"),f=t+"/"+u,b=l.snapshot.data[this.nzRouteLabel];return u&&b&&n.push({label:b,params:l.snapshot.params,url:f}),this.getBreadcrumbs(l,f,n)}}}catch(d){c={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}},Object(rn.b)([Object(an.a)(),Object(rn.d)("design:type",Object)],e.prototype,"nzAutoGenerate",void 0),e.\u0275fac=function(t){return new(t||e)(oe.Tb(oe.r),oe.Tb(oe.z),oe.Tb(oe.h),oe.Tb(oe.l),oe.Tb(oe.E))},e.\u0275cmp=oe.Nb({type:e,selectors:[["nz-breadcrumb"]],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel"},exportAs:["nzBreadcrumb"],ngContentSelectors:hn,decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(oe.rc(),oe.qc(0),oe.Kc(1,gn,2,1,"ng-container",0)),2&e&&(oe.Cb(1),oe.sc("ngIf",t.nzAutoGenerate))},directives:function(){return[c.t,c.s,zn]},encapsulation:2,changeDetection:0}),e}(),zn=function(){function e(e){this.nzBreadCrumbComponent=e}return e.\u0275fac=function(t){return new(t||e)(oe.Tb(wn))},e.\u0275cmp=oe.Nb({type:e,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:hn,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["noMenuTpl",""],["class","ant-breadcrumb-separator",4,"ngIf"],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","down"],[1,"ant-breadcrumb-link"],[1,"ant-breadcrumb-separator"],[4,"nzStringTemplateOutlet"]],template:function(e,t){if(1&e&&(oe.rc(),oe.Kc(0,yn,4,3,"ng-container",0),oe.Kc(1,On,2,0,"ng-template",null,1,oe.Lc),oe.Kc(3,jn,2,1,"span",2)),2&e){var n=oe.Ac(2);oe.sc("ngIf",!!t.nzOverlay)("ngIfElse",n),oe.Cb(3),oe.sc("ngIf",t.nzBreadCrumbComponent.nzSeparator)}},directives:[c.t,cn.b,c.A,Ce.a,bn.b],encapsulation:2,changeDetection:0}),e}(),xn=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["nz-breadcrumb-separator"]],exportAs:["nzBreadcrumbSeparator"],ngContentSelectors:hn,decls:2,vars:0,consts:[[1,"ant-breadcrumb-separator"]],template:function(e,t){1&e&&(oe.rc(),oe.Zb(0,"span",0),oe.qc(1),oe.Yb())},encapsulation:2}),e}(),Tn=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c,bn.a,fn.g,dn.c,cn.c,Ce.b]]}),e}(),kn=n("QJHY"),Sn=n("611w"),Pn=n("0f/F"),Mn=n("a4ij"),In=n("QHKX"),_n=n("15JJ"),En=n("ad02"),Yn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},An=function(){function e(e,t,n){var c=this;this.store$=e,this.action$=t,this.engine=n,this.provideSavedInquiries$=Object(rt.c)((function(){return c.action$.pipe(Object(it.i)(x.a.Activity),Object(_n.a)((function(e){return c.engine.search((function(e){return e.listSaved(qt.a.User,!1)})).pipe(Object(It.a)((function(e){return Object(k.f)(e)})))})))})),this.loadInquiries$=Object(rt.c)((function(){return c.store$.select(ee).pipe(Object(kt.a)((function(e){return Object(At.a)(e).pipe(Object(Mt.a)((function(e){return c.engine.search((function(t){return t.loadInquiry(e[0],e[1].id)}))})),Object(Et.a)(e.length),Object(It.a)((function(e){return O(e.map((function(e){var t=Yn(e,2),n=t[1];return[t[0],n,n[1].questions]})))})))})),Object(_t.a)((function(e){return Zt.a})))})),this.trySelectOne$=Object(rt.c)((function(){return c.store$.select(Q).pipe(Object(it.b)(c.store$.select(re.b),(function(e){return e===x.a.Activity})),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(c.store$.select(W)))})),Object(it.a)("Trying to select an element"),Object(Mt.a)((function(e){var t,n=Yn(e,2),c=n[0];return!n[1]&&(null===(t=c)||void 0===t?void 0:t.length)&&c[0]?[g(c[0])]:Zt.a})))})),this.getFileProperties$=Object(rt.c)((function(){return c.action$.pipe(Object(rt.d)(g),Object(it.a)("Requesting file properties"),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(c.store$.select(a.selectMetadata)))})),Object(Pt.a)((function(e){var t=Yn(e,1)[0].element;return Object(D.g)(t)&&t[0].type===B.f.Binary&&"number"==typeof t[0].metadataId})),Object(Mt.a)((function(e){var t=Yn(e,2),n=t[0].element,c=t[1][Object(T.n)([n[0],{id:n[0].metadataId}])];return c?[Object(k.u)({paths:[c.path]}),Object(k.q)([c.path])]:Zt.a})))})),this.getBinaryIcons$=Object(rt.c)((function(){return c.action$.pipe(Object(rt.d)(k.qb),Object(it.b)(c.store$.select(re.b),(function(e){return e===x.a.Activity})),Object(Mt.a)((function(e){var t=e.data;return Object(At.a)(t).pipe(Object(Pt.a)((function(e){return Yn(e,1)[0]===B.f.Binary})),Object(It.a)((function(e){var t=Yn(e,2)[1];return Object(In.d)(t.path)})))})))})),this.listItems$=Object(rt.c)((function(){return c.store$.select(Q).pipe(Object(it.b)(c.store$.select(re.b),(function(e){return e===x.a.Activity})),Object(It.a)((function(e){return e.filter((function(e){return!!e}))})),Object(It.a)((function(e){return Object(In.l)(e.length+" items shown")})))})),this.keepUpToDate$=Object(rt.c)((function(){return c.store$.select(W).pipe(Object(Pt.a)((function(e){return!!e})),Object(En.a)((function(e,t){return e.id===t.id})),Object(It.a)((function(e){return g(e)})))}))}return e.\u0275fac=function(t){return new(t||e)(oe.dc(s.b),oe.dc(rt.a),oe.dc(Ft.b))},e.\u0275prov=oe.Pb({token:e,factory:e.\u0275fac}),e}(),Zn=n("oJae"),Dn=(n("epsL"),n("xFDe")),Bn=n("vmpY"),Kn=n("qGRI"),$n=n("CIKb"),Fn=n("OTCm"),Nn=n("oWkm"),Rn=n("b+8E"),Ln=n("KzDo"),qn=n("Ea68"),Un=n("mESR"),Vn=n("lH/J"),Hn=n("1zsS"),Gn=n("Oqql");function Jn(e,t){if(1&e&&oe.Ub(0,"st-node-avatar",14),2&e){var n=oe.kc(2);oe.sc("node",n.element)}}function Qn(e,t){if(1&e&&oe.Ub(0,"st-edge-avatar",15),2&e){var n=oe.kc(2);oe.sc("edge",n.element)}}function Wn(e,t){if(1&e&&(oe.Zb(0,"nz-page-header-subtitle"),oe.Mc(1),oe.lc(2,"fuzzyDate"),oe.Zb(3,"st-user-popup",16),oe.Zb(4,"a"),oe.Mc(5,"you"),oe.Yb(),oe.Yb(),oe.Yb()),2&e){var n=t.ngVar,c=oe.kc(2);oe.Cb(1),oe.Oc(" Created ",oe.mc(2,2,c.element[1].created)," by "),oe.Cb(2),oe.sc("user",n)}}function Xn(e,t){1&e&&(oe.Zb(0,"nz-tag",6),oe.Zb(1,"span",8),oe.Mc(2,"historical"),oe.Yb(),oe.Yb()),2&e&&oe.sc("nzColor","#2db7f5")("title","Historical record of this item")}function ec(e,t){1&e&&oe.Ub(0,"st-node-action-buttons")}function tc(e,t){1&e&&oe.Ub(0,"st-edge-action-buttons")}function nc(e,t){if(1&e&&(oe.Zb(0,"nz-page-header",1),oe.Zb(1,"nz-page-header-title"),oe.Kc(2,Jn,1,1,"st-node-avatar",2),oe.lc(3,"isNode"),oe.Kc(4,Qn,1,1,"st-edge-avatar",3),oe.lc(5,"isEdge"),oe.Mc(6),oe.lc(7,"elementToTitle"),oe.Yb(),oe.Kc(8,Wn,6,4,"nz-page-header-subtitle",4),oe.lc(9,"async"),oe.lc(10,"elementToUser"),oe.Zb(11,"nz-page-header-tags"),oe.Kc(12,Xn,3,2,"nz-tag",5),oe.Zb(13,"nz-tag",6),oe.lc(14,"isNode"),oe.Ub(15,"i",7),oe.lc(16,"isNode"),oe.Yb(),oe.Zb(17,"nz-tag",6),oe.Zb(18,"span",8),oe.Mc(19),oe.Yb(),oe.Yb(),oe.Yb(),oe.Zb(20,"nz-page-header-extra"),oe.Kc(21,ec,1,0,"st-node-action-buttons",9),oe.lc(22,"isNode"),oe.Kc(23,tc,1,0,"st-edge-action-buttons",9),oe.lc(24,"isEdge"),oe.Yb(),oe.Zb(25,"nz-page-header-content"),oe.Zb(26,"div",10),oe.Zb(27,"div",11),oe.qc(28),oe.Yb(),oe.Yb(),oe.Yb(),oe.Zb(29,"nz-page-header-footer"),oe.Zb(30,"div",12),oe.Ub(31,"div"),oe.Ub(32,"st-permissions",13),oe.lc(33,"async"),oe.lc(34,"elementToUser"),oe.Yb(),oe.Yb(),oe.Yb()),2&e){var n=oe.kc();oe.Cb(2),oe.sc("ngIf",oe.mc(3,15,n.element)),oe.Cb(2),oe.sc("ngIf",oe.mc(5,17,n.element)),oe.Cb(2),oe.Oc(" ",oe.mc(7,19,n.element)," "),oe.Cb(2),oe.sc("ngVar",oe.mc(9,21,oe.mc(10,23,n.element))),oe.Cb(4),oe.sc("ngIf",!n.element.isHEAD),oe.Cb(1),oe.sc("nzColor","#FFDB00")("title",oe.mc(14,25,n.element)?"Item is a data point":"Item is a link connecting two data points"),oe.Cb(2),oe.sc("nzType",oe.mc(16,27,n.element)?"field-binary":"link"),oe.Cb(2),oe.sc("nzColor","blue")("title","Data type"),oe.Cb(2),oe.Oc("",n.element[0].type," "),oe.Cb(2),oe.sc("ngIf",oe.mc(22,29,n.element)),oe.Cb(2),oe.sc("ngIf",oe.mc(24,31,n.element)),oe.Cb(9),oe.sc("permissions",n.element.permissions)("owner",oe.mc(33,33,oe.nc(34,35,n.element,"owner")))}}var cc=["*"],rc=function(){function e(e,t){this.modals=e,this.contextMenus=t}return e.prototype.ngOnInit=function(){},e.prototype.contextMenu=function(e){this.element&&this.contextMenus.forElementByType(this.element[0].type,{element:this.element,propertiesToEdit:le.c[this.element[0].type]}).show(e)},e.\u0275fac=function(t){return new(t||e)(oe.Tb(Zn.a),oe.Tb(Dn.a))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-element-header"]],inputs:{element:"element"},ngContentSelectors:cc,decls:1,vars:1,consts:[["class","site-page-header",4,"ngIf"],[1,"site-page-header"],[3,"node",4,"ngIf"],[3,"edge",4,"ngIf"],[4,"ngVar"],[3,"nzColor","title",4,"ngIf"],[3,"nzColor","title"],["nz-icon","","nzTheme","outline",3,"nzType"],["id","head-tag"],[4,"ngIf"],["nz-row",""],[1,"content"],["id","footer"],[3,"permissions","owner"],[3,"node"],[3,"edge"],[3,"user"]],template:function(e,t){1&e&&(oe.rc(),oe.Kc(0,nc,35,38,"nz-page-header",0)),2&e&&oe.sc("ngIf",t.element)},directives:[c.t,nn.c,nn.j,me.a,nn.i,en.a,Ce.a,je.a,nn.e,nn.d,Bn.c,nn.f,Kn.a,$n.a,Fn.a,nn.h,Nn.a,Rn.a,Ln.a],pipes:[qn.a,Un.a,Vn.a,c.b,Hn.a,Gn.a],styles:["#head-tag[_ngcontent-%COMP%]{font-family:Assistant;font-variant:small-caps;font-weight:700}#footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}nz-tag[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10pt}"]}),e}(),ic=n("4+DQ"),oc=function(e){return e.GetTwig="[Branches] Get Twig",e.SetTwig="[Branches] Set Twig",e.SetBranches="[Branches] Set Branches",e.SelectBranch="[Branches] Select Branch",e.SetElement="[Branches] Set Element",e.GetBranchTops="[Branches] Get Branch Tops",e.SetBranchTops="[Branches] Set Branch Tops",e.SetActiveTwig="[Branches] Set Active Twig",e.GoToParentTwig="[Branches] Go To Parent Twig",e.GoToHEAD="[Branches] Go To HEAD",e}({}),ac=Object(s.g)(oc.GetTwig,(function(e,t,n){return{element:e,recordId:t,correlationId:n}})),sc=Object(s.g)(oc.SetTwig,(function(e,t,n){return{twig:t,top:e,correlationId:n}})),lc=Object(s.g)(oc.SetBranches,(function(e,t){return{branches:t,element:e}})),uc=Object(s.g)(oc.SelectBranch,(function(e,t){return{branchId:t,element:e}})),fc=Object(s.g)(oc.SetElement,(function(e){return{element:e}})),bc=Object(s.g)(oc.GetBranchTops,(function(e,t){return{element:e,branch:t}})),dc=Object(s.g)(oc.SetBranchTops,(function(e,t){return{branch:e,tops:t}})),pc=Object(s.g)(oc.SetActiveTwig,(function(e){return{top:e}})),gc=Object(s.g)(oc.GoToParentTwig,(function(e){return{parent:e}})),hc=Object(s.g)(oc.GoToHEAD,(function(e){return{element:e}})),mc=function(){return(mc=Object.assign||function(e){for(var t,n=1,c=arguments.length;n<c;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vc={twigs:{},tops:{},branches:{},selectedBranchIdx:null,currentElementKey:null,activeTwigKey:null},yc=Object(s.i)(vc,Object(s.k)(sc,(function(e,t){var n=t.twig,c=t.top,r=mc({},e.twigs);return r[Object(T.f)(c)]=n.map((function(e){return{recordId:e.record.id,offshootIds:e.offshoots.map((function(e){return e.id}))}})),mc(mc({},e),{twigs:r})})),Object(s.k)(fc,(function(e,t){var n=t.element,c=Object(T.f)(n);if(e.branches[c])return e.currentElementKey===c?e:mc(mc({},e),{currentElementKey:c});var r=mc({},e.branches);return r[c]=null,mc(mc({},e),{branches:r,currentElementKey:c})})),Object(s.k)(lc,(function(e,t){var n=t.element,c=t.branches,r=Object(T.f)(n),i=mc({},e.branches);return i[r]=c.map((function(e){return e.id})),mc(mc({},e),{branches:i})})),Object(s.k)(uc,(function(e,t){var n,c=t.branchId,r=t.element,i=null===(n=e.branches[Object(T.f)(r)])||void 0===n?void 0:n.findIndex((function(e){return e===c}));return i<0&&(i=null),e.selectedBranchIdx===i?e:mc(mc({},e),{selectedBranchIdx:i})})),Object(s.k)(dc,(function(e,t){if(!t.tops.length)return e;var n=mc({},e.tops);return n[t.branch.id]=t.tops.map((function(e){return Object(T.f)(e)})),mc(mc({},e),{tops:n})})),Object(s.k)(pc,(function(e,t){var n=t.top;return mc(mc({},e),{activeTwigKey:Object(T.f)(n)})})));function Oc(e,t){return yc(e,t)}var Cc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o};function jc(e,t,n){return n===Z.a.Node?a.fullNodeCreator(e,t):a.fullEdgeCreator(e,t)}var wc=Object(s.h)("branches"),zc=Object(s.j)(wc,(function(e){return e.twigs})),xc=Object(s.j)(wc,(function(e){return e.tops})),Tc=Object(s.j)(wc,(function(e){return e.branches})),kc=Object(s.j)(wc,(function(e){return e.activeTwigKey})),Sc=Object(s.j)(wc,(function(e){return e.selectedBranchIdx})),Pc=Object(s.j)(wc,(function(e){return e.currentElementKey})),Mc=Object(s.j)(Tc,Pc,a.selectBranches,(function(e,t,n){var c;return t&&e&&n&&(null===(c=e[t])||void 0===c?void 0:c.map((function(e){return n[e]})))||[]})),Ic=Object(s.j)(Sc,Mc,(function(e,t){return"number"!=typeof e||e<0||!t?null:t[e]})),_c=Object(s.j)(Pc,a.selectStCore,a.selectMe,(function(e,t,n){if(!e||!t)return null;var c=Cc(Object(T.i)(e),3),r=c[1],i=c[2];return jc(t,n,c[0])([r,i])})),Ec=Object(s.j)(kc,zc,(function(e,t){return e&&t&&t[e]||null})),Yc=Object(s.j)(Pc,Ec,a.selectStCore,a.selectMe,(function(e,t,n,c){if(!e||!t||!a)return null;var r=Cc(Object(T.i)(e),2),i=r[1],o=jc(n,c,r[0]);return t.map((function(e){return{record:o([i,e.recordId]),offshoots:e.offshootIds.map((function(e){return[i,e]})).map(o)}}))})),Ac=Object(s.j)(Pc,Ic,xc,a.selectStCore,a.selectMe,(function(e,t,n,c,r){var i;if(!(e&&t&&n&&c))return[];var o=jc(c,r,Cc(Object(T.i)(e),1)[0]);return(null===(i=n[t.id])||void 0===i?void 0:i.map((function(e){return Object(T.i)(e)})).map((function(e){var t=Cc(e,3);return[t[1],t[2]]})).map(o))||[]})),Zc=n("lnVn"),Dc=(n("2n4R"),n("QBNK")),Bc=n("s+w9"),Kc=n("3TuH"),$c=n("wVnR"),Fc=n("//J1");function Nc(e,t){1&e&&oe.Ub(0,"div",9)}function Rc(e,t){if(1&e&&(oe.Zb(0,"span",10),oe.Mc(1),oe.Yb()),2&e){var n=oe.kc().$implicit;oe.Cb(1),oe.Nc(n.description)}}function Lc(e,t){if(1&e&&(oe.Zb(0,"section",11),oe.Ub(1,"ngx-json-viewer",12),oe.Yb()),2&e){var n=oe.kc().$implicit,c=oe.kc();oe.Cb(1),oe.sc("json",n.value)("expanded",c.expanded)}}var qc=function(e){return["segment",e]},Uc=function(e,t){return{"segment-main":!0,expandable:e,expanded:t}};function Vc(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"section",2),oe.Zb(1,"section",3),oe.hc("click",(function(e){oe.Bc(n);var c=t.$implicit;return oe.kc().toggle(c)})),oe.Kc(2,Nc,1,0,"div",4),oe.Zb(3,"span",5),oe.Mc(4),oe.Yb(),oe.Zb(5,"span",6),oe.Mc(6,": "),oe.Yb(),oe.Kc(7,Rc,2,1,"span",7),oe.Yb(),oe.Kc(8,Lc,2,2,"section",8),oe.Yb()}if(2&e){var c=t.$implicit,r=oe.kc();oe.sc("ngClass",oe.wc(6,qc,"segment-type-"+c.type)),oe.Cb(1),oe.sc("ngClass",oe.xc(8,Uc,r.isExpandable(c),c.expanded)),oe.Cb(1),oe.sc("ngIf",r.isExpandable(c)),oe.Cb(2),oe.Nc(c.key),oe.Cb(3),oe.sc("ngIf",!c.expanded||!r.isExpandable(c)),oe.Cb(1),oe.sc("ngIf",c.expanded&&r.isExpandable(c))}}var Hc=function(){function e(){this.expanded=!0,this.cleanOnChange=!0,this.segments=[]}return e.prototype.ngOnChanges=function(){var e=this;this.cleanOnChange&&(this.segments=[]),"object"==typeof this.json?Object.keys(this.json).forEach((function(t){e.segments.push(e.parseKeyValue(t,e.json[t]))})):this.segments.push(this.parseKeyValue("("+typeof this.json+")",this.json))},e.prototype.isExpandable=function(e){return"object"===e.type||"array"===e.type},e.prototype.toggle=function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)},e.prototype.parseKeyValue=function(e,t){var n={key:e,value:t,type:void 0,description:""+t,expanded:this.expanded};switch(typeof n.value){case"number":n.type="number";break;case"boolean":n.type="boolean";break;case"function":n.type="function";break;case"string":n.type="string",n.description='"'+n.value+'"';break;case"undefined":n.type="undefined",n.description="undefined";break;case"object":null===n.value?(n.type="null",n.description="null"):Array.isArray(n.value)?(n.type="array",n.description="Array["+n.value.length+"] "+JSON.stringify(n.value)):n.value instanceof Date?n.type="date":(n.type="object",n.description="Object "+JSON.stringify(n.value))}return n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",cleanOnChange:"cleanOnChange",json:"json"},features:[oe.Ab()],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded"]],template:function(e,t){1&e&&(oe.Zb(0,"section",0),oe.Kc(1,Vc,9,11,"section",1),oe.Yb()),2&e&&(oe.Cb(1),oe.sc("ngForOf",t.segments))},directives:[c.s,c.q,c.t,e],styles:['@charset "UTF-8";\n    .ngx-json-viewer[_ngcontent-%COMP%] {\n      font-family: monospace;\n      font-size: 1em;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      position: relative; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%] {\n        padding: 2px;\n        margin: 1px 1px 1px 12px; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%] {\n          word-wrap: break-word; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%] {\n            position: absolute;\n            margin-left: -14px;\n            margin-top: 3px;\n            font-size: .8em;\n            line-height: 1.2em;\n            vertical-align: middle;\n            color: #787878; }\n            .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]::after {\n              display: inline-block;\n              content: "\u25ba";\n              -webkit-transition: -webkit-transform 0.1s ease-in;\n              transition: -webkit-transform 0.1s ease-in;\n              transition: transform 0.1s ease-in;\n              transition: transform 0.1s ease-in, -webkit-transform 0.1s ease-in; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%] {\n            color: #4E187C; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%] {\n            color: #999; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%] {\n            color: #000; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%] {\n          margin-left: 12px; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #FF6B6B; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #009688; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #b938a4; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #05668D; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: red; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-key[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%] {\n        white-space: nowrap; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%]::after {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%] {\n        cursor: pointer; }']}),e}(),Gc=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c]]}),e}(),Jc=function(){function e(){}return e.prototype.transform=function(e){return Object(D.e)(e)?le.i[e[0].type].map((function(t){return"string"==typeof t?{section:t,content:e[1][t]}:{section:t.name,content:t.transform?t.transform(e[1][t.prop]):e[1][t.prop]}})):[]},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"recordSummary",type:e,pure:!0}),e}(),Qc=function(){return(Qc=Object.assign||function(e){for(var t,n=1,c=arguments.length;n<c;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Wc=function(){function e(){}return e.prototype.transform=function(e){var t=Qc({},e);return t.created=new Date(t.created).toLocaleString(),t.birthtime&&(t.birthtime=new Date(t.birthtime).toLocaleString()),t.mtime&&(t.mtime=new Date(t.mtime).toLocaleString()),t.atime&&(t.atime=new Date(t.atime).toLocaleString()),t},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"prepareRecordJson",type:e,pure:!0}),e}();function Xc(e,t){if(1&e&&(oe.Zb(0,"div",4),oe.Zb(1,"st-user-popup",14),oe.Zb(2,"a"),oe.Mc(3),oe.Yb(),oe.Yb(),oe.Yb()),2&e){var n=t.ngVar;oe.Cb(1),oe.sc("popoverTrigger","click"),oe.Cb(2),oe.Nc(n||"you")}}function er(e,t){if(1&e&&(oe.Zb(0,"tr"),oe.Zb(1,"td"),oe.Zb(2,"div",18),oe.Mc(3),oe.Yb(),oe.Yb(),oe.Yb()),2&e){var n=oe.kc().$implicit;oe.Cb(3),oe.Nc(n.content)}}function tr(e,t){1&e&&(oe.Zb(0,"tr",19),oe.Zb(1,"td"),oe.Zb(2,"span",11),oe.Ub(3,"i",20),oe.Yb(),oe.Yb(),oe.Yb())}function nr(e,t){if(1&e&&(oe.Xb(0),oe.Zb(1,"tr",15),oe.Zb(2,"td"),oe.Mc(3),oe.Yb(),oe.Yb(),oe.Kc(4,er,4,1,"tr",16),oe.Kc(5,tr,4,0,"ng-template",null,17,oe.Lc),oe.Wb()),2&e){var n=t.$implicit,c=oe.Ac(6);oe.Cb(3),oe.Nc(n.section),oe.Cb(1),oe.sc("ngIf",n.content)("ngIfElse",c)}}function cr(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",3),oe.Zb(1,"div",4),oe.Zb(2,"span",5),oe.Zb(3,"code"),oe.Mc(4),oe.Yb(),oe.Yb(),oe.Yb(),oe.Zb(5,"div",4),oe.Zb(6,"nz-tag",6),oe.Mc(7),oe.lc(8,"uppercase"),oe.Yb(),oe.Yb(),oe.Kc(9,Xc,4,2,"div",7),oe.lc(10,"async"),oe.lc(11,"elementToUser"),oe.Zb(12,"div",8),oe.hc("nzVisibleChange",(function(e){return oe.Bc(n),oe.kc().shake()})),oe.Zb(13,"table"),oe.Kc(14,nr,7,3,"ng-container",9),oe.lc(15,"recordSummary"),oe.Yb(),oe.Yb(),oe.Zb(16,"div",10),oe.lc(17,"date"),oe.Zb(18,"span",11),oe.Mc(19),oe.lc(20,"fuzzyDate"),oe.Yb(),oe.Yb(),oe.Zb(21,"div",4),oe.Zb(22,"button",12),oe.hc("click",(function(e){oe.Bc(n);var t=oe.kc();return t.onContextmenu.next([e,t.node.record])})),oe.Ub(23,"i",13),oe.Yb(),oe.Yb(),oe.Yb()}if(2&e){var c=oe.kc(),r=oe.Ac(2),i=oe.Ac(4);oe.sc("stShade","#F9F9F9"),oe.Cb(4),oe.Nc(c.node.record.label),oe.Cb(2),oe.sc("stRecordModeTag",c.node.record[1])("nzNoAnimation",!0),oe.Cb(1),oe.Nc(oe.mc(8,12,null==c.node.record[1]?null:c.node.record[1].mode)),oe.Cb(2),oe.sc("ngVar",oe.mc(10,14,oe.mc(11,16,c.node.record))),oe.Cb(3),oe.sc("nzPopoverTitle",r)("nzPopoverContent",i)("nzTrigger","click"),oe.Cb(2),oe.sc("ngForOf",oe.mc(15,18,c.node.record)),oe.Cb(2),oe.sc("title",oe.mc(17,20,c.node.record[1].created)),oe.Cb(3),oe.Nc(oe.mc(20,22,c.node.record[1].created))}}function rr(e,t){1&e&&(oe.Zb(0,"h3"),oe.Mc(1," Inspect raw record data "),oe.Yb())}function ir(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",21),oe.Zb(1,"ngx-json-viewer",22),oe.hc("click",(function(e){return oe.Bc(n),oe.kc().tick()})),oe.lc(2,"prepareRecordJson"),oe.Yb(),oe.Yb()}if(2&e){var c=oe.kc();oe.Cb(1),oe.sc("json",oe.mc(2,2,c.node.record[1]))("expanded",!1)}}var or=function(){function e(e){this.cdr=e,this.onContextmenu=new oe.n}return e.prototype.ngOnInit=function(){},e.prototype.tick=function(){this.cdr.detectChanges()},e.prototype.shake=function(){window.dispatchEvent(new Event("resize"))},e.\u0275fac=function(t){return new(t||e)(oe.Tb(oe.h))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-branch-node"]],inputs:{node:"node"},outputs:{onContextmenu:"onContextmenu"},decls:5,vars:1,consts:[["id","container",3,"stShade",4,"ngIf"],["titleTemplate",""],["contentTemplate",""],["id","container",3,"stShade"],[1,"rest"],["nz-typography","","stHighlightSecondary",""],[3,"stRecordModeTag","nzNoAnimation"],["class","rest",4,"ngVar"],["id","info","nz-popover","",3,"nzPopoverTitle","nzPopoverContent","nzTrigger","nzVisibleChange"],[4,"ngFor","ngForOf"],[1,"rest",2,"margin-left","20px",3,"title"],["nz-typography","","nzType","secondary"],["nz-button","","nzNoAnimation","",2,"border","none","padding","0","margin-left","10px",3,"click"],["nz-icon","","nzType","more","nzTheme","outline",2,"font-size","20px","vertical-align","top"],[3,"popoverTrigger"],[2,"font-weight","500","padding-right","15px","white-space","nowrap","vertical-align","top","font-family","Inter","font-size","10pt"],[4,"ngIf","ngIfElse"],["emptyContent",""],["id","content"],[2,"padding-top","4px"],["nz-icon","","nzType","minus","nzTheme","outline"],["id","raw"],[3,"json","expanded","click"]],template:function(e,t){1&e&&(oe.Kc(0,cr,24,24,"div",0),oe.Kc(1,rr,2,0,"ng-template",null,1,oe.Lc),oe.Kc(3,ir,3,4,"ng-template",null,2,oe.Lc)),2&e&&oe.sc("ngIf",t.node.record)},directives:[c.t,$c.a,de.c,Kc.a,en.a,Fc.a,me.a,be.a,c.s,ge.a,xe.a,je.a,Ce.a,Nn.a,Sn.q,Sn.f,Hc],pipes:[c.G,c.b,Hn.a,Jc,c.f,Gn.a,Wc],styles:["#container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;justify-content:space-around;padding:5px 10px 5px 5px;-webkit-transition:background-color .2s;transition:background-color .2s}.rest[_ngcontent-%COMP%]{min-width:50px;padding:0 3px}#info[_ngcontent-%COMP%]{background-color:#f0f8ff;-webkit-box-flex:2;flex:2;padding:0 5px;cursor:pointer}ngx-json-viewer[_ngcontent-%COMP%]{font-size:9.5pt}#raw[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}#content[_ngcontent-%COMP%]{padding-left:5px}"],changeDetection:0}),e}(),ar=function(){function e(e,t){this.component=e,this.cdr=t}return e.prototype.doHighlight=function(){this.component.activate=!0,this.cdr.detectChanges()},e.prototype.undoHighlight=function(){this.component.activate=!1,this.cdr.detectChanges()},e.\u0275fac=function(t){return new(t||e)(oe.Tb(Oe.a),oe.Tb(oe.h))},e.\u0275dir=oe.Ob({type:e,selectors:[["","stHoverActivates",""]],hostBindings:function(e,t){1&e&&oe.hc("mouseover",(function(e){return t.doHighlight()}))("mouseleave",(function(e){return t.undoHighlight()}))}}),e}(),sr=n("/Yks"),lr=function(){function e(){}return e.prototype.transform=function(e){return e?e.replace(/:?\d+$/,"")||"root":""},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"twigLabel",type:e,pure:!0}),e}();function ur(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",5),oe.hc("nzVisibleChange",(function(e){return oe.Bc(n),oe.kc(2).shake()})),oe.Ub(1,"i",6),oe.Yb()}if(2&e){oe.kc(2);var c=oe.Ac(3);oe.sc("nzPopoverContent",c)("nzPopoverTrigger","click")}}function fr(e,t){if(1&e&&oe.Ub(0,"div",10),2&e){var n=oe.kc(3);oe.Jb("root",n.node.record[1].id===n.branch.rootId)}}function br(e,t){1&e&&(oe.Zb(0,"div",11),oe.Mc(1," H "),oe.Yb())}function dr(e,t){if(1&e&&(oe.Xb(0,7),oe.Kc(1,fr,1,2,"div",8),oe.Kc(2,br,2,0,"div",9),oe.Wb()),2&e){var n=oe.kc(2);oe.sc("ngSwitch",n.node.record[1].id===n.branch.HEADId),oe.Cb(1),oe.sc("ngSwitchCase",!1),oe.Cb(1),oe.sc("ngSwitchCase",!0)}}function pr(e,t){if(1&e&&(oe.Zb(0,"div",2),oe.Kc(1,ur,2,2,"div",3),oe.Kc(2,dr,3,3,"ng-template",null,4,oe.Lc),oe.Yb()),2&e){var n=oe.Ac(3),c=oe.kc();oe.Cb(1),oe.sc("ngIf",c.node.offshoots.length)("ngIfElse",n)}}function gr(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"st-list-item",13),oe.hc("click",(function(e){oe.Bc(n);var c=t.$implicit;return oe.kc(2).goToOffshoot(c)})),oe.Ub(1,"i",14),oe.Zb(2,"span",15),oe.Zb(3,"code"),oe.Mc(4),oe.lc(5,"twigLabel"),oe.Yb(),oe.Yb(),oe.Yb()}if(2&e){var c=t.$implicit;oe.Cb(1),oe.sc("nzType","sisternode"),oe.Cb(3),oe.Nc(oe.mc(5,2,c.label))}}function hr(e,t){if(1&e&&oe.Kc(0,gr,6,4,"st-list-item",12),2&e){var n=oe.kc();oe.sc("ngForOf",n.node.offshoots)}}var mr=function(){function e(){this.changeTwig=new oe.n}return e.prototype.ngOnInit=function(){},e.prototype.goToOffshoot=function(e){this.changeTwig.next(e)},e.prototype.shake=function(){window.dispatchEvent(new Event("resize"))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-timeline-dot"]],inputs:{node:"node",branch:"branch"},outputs:{changeTwig:"changeTwig"},decls:4,vars:3,consts:[["id","container",4,"ngIf"],["contentTemplate",""],["id","container"],["id","offshoots","nz-popover","","nzPopoverTitle","Go to offshoot","nzPopoverPlacement","right",3,"nzPopoverContent","nzPopoverTrigger","nzVisibleChange",4,"ngIf","ngIfElse"],["dot",""],["id","offshoots","nz-popover","","nzPopoverTitle","Go to offshoot","nzPopoverPlacement","right",3,"nzPopoverContent","nzPopoverTrigger","nzVisibleChange"],["id","sisternode-icon","nz-icon","","nzType","sisternode","nzTheme","outline"],[3,"ngSwitch"],["id","dot",3,"root",4,"ngSwitchCase"],["id","HEAD","title","Up-to-date state of this branch",4,"ngSwitchCase"],["id","dot"],["id","HEAD","title","Up-to-date state of this branch"],["stHoverActivates","",3,"click",4,"ngFor","ngForOf"],["stHoverActivates","",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],["nz-typography","","stHighlightSecondary",""]],template:function(e,t){1&e&&(oe.Kc(0,pr,4,2,"div",0),oe.lc(1,"isGraphElement"),oe.Kc(2,hr,1,1,"ng-template",null,1,oe.Lc)),2&e&&oe.sc("ngIf",oe.mc(1,1,t.branch&&(null==t.node?null:t.node.record)))},directives:[c.t,be.a,Ce.a,je.a,c.x,c.y,c.s,Oe.a,ar,de.c,Kc.a],pipes:[sr.a,lr],styles:["#container[_ngcontent-%COMP%]{font-size:13pt}[nzType=sisternode][_ngcontent-%COMP%]{-webkit-transform:rotate(270deg);transform:rotate(270deg);cursor:pointer;font-size:13pt}#dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:6px;display:inline-block;border:2px solid #63aae3}[nz-typography][_ngcontent-%COMP%]{margin-left:10px}st-list-item[_ngcontent-%COMP%]{cursor:pointer}[nzType=file-done][_ngcontent-%COMP%]{color:#4bd66e}.root[_ngcontent-%COMP%]{background-color:#f77f3a}#HEAD[_ngcontent-%COMP%]{font-weight:700;font-family:Assistant;color:#3bc55e;font-size:15pt}"],changeDetection:0}),e}(),vr=function(){function e(){}return e.prototype.transform=function(e){return Object(D.e)(e)&&(e[1].mode===B.h.Root||e[1].mode===B.h.Duplicate)},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"isRootOfTwig",type:e,pure:!0}),e}(),yr=function(){function e(){}return e.prototype.transform=function(e){var t;return!(null===(t=e)||void 0===t||!t.length||(new vr).transform(e[e.length-1].record))},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"isNonRootedTwig",type:e,pure:!0}),e}(),Or=function(){function e(){}return e.prototype.transform=function(e,t){var n,c;return!!((null===(n=t)||void 0===n?void 0:n.length)&&Object(D.e)(e)&&Object(D.e)(null===(c=t[0])||void 0===c?void 0:c.record))&&t[0].record[1].id===e[1].id},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"activateTop",type:e,pure:!0}),e}(),Cr=function(){function e(){}return e.prototype.transform=function(e){var t;return!!(null===(t=e)||void 0===t?void 0:t.match(/^\d+$/))},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"isRootLabel",type:e,pure:!0}),e}();function jr(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"st-list-item",7),oe.hc("click",(function(e){oe.Bc(n);var c=t.$implicit;return oe.kc(2).changeTwig.next(c)})),oe.lc(1,"activateTop"),oe.Ub(2,"i",8),oe.lc(3,"isRootLabel"),oe.Zb(4,"span",9),oe.lc(5,"activateTop"),oe.Zb(6,"code"),oe.Mc(7),oe.lc(8,"twigLabel"),oe.Yb(),oe.Yb(),oe.Yb()}if(2&e){var c=t.$implicit,r=oe.kc(2);oe.sc("activate",oe.nc(1,4,c,r.twig)),oe.Cb(2),oe.sc("nzType",oe.mc(3,7,c.label)?"subnode":"sisternode"),oe.Cb(2),oe.sc("highlight",oe.nc(5,9,c,r.twig)),oe.Cb(3),oe.Nc(oe.mc(8,12,c.label))}}function wr(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",15),oe.Zb(1,"button",16),oe.hc("click",(function(e){oe.Bc(n);var t=oe.kc(4);return t.goToParent.next(t.twig[t.twig.length-1].record)})),oe.Ub(2,"i",17),oe.Yb(),oe.Yb()}}function zr(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"st-timeline-dot",23),oe.hc("changeTwig",(function(e){return oe.Bc(n),oe.kc(6).changeTwig.next(e)})),oe.Yb()}if(2&e){var c=oe.kc(2).$implicit,r=oe.kc(4);oe.sc("node",c)("branch",r.branch)}}function xr(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"nz-timeline-item",19),oe.Zb(1,"div",20),oe.hc("contextmenu",(function(e){oe.Bc(n);var t=oe.kc().$implicit;return oe.kc(4).contextMenu([e,t.record])})),oe.Zb(2,"st-branch-node",21),oe.hc("onContextmenu",(function(e){return oe.Bc(n),oe.kc(5).contextMenu(e)})),oe.Yb(),oe.Yb(),oe.Kc(3,zr,1,2,"ng-template",null,22,oe.Lc),oe.Yb()}if(2&e){var c=oe.Ac(4),r=oe.kc().$implicit;oe.sc("nzDot",c),oe.Cb(2),oe.sc("node",r)}}function Tr(e,t){if(1&e&&(oe.Xb(0),oe.Kc(1,xr,5,2,"nz-timeline-item",18),oe.Wb()),2&e){var n=t.index,c=oe.kc(3).ngVar,r=oe.kc();oe.Cb(1),oe.sc("ngIf",!c||n!==r.twig.length-1)}}function kr(e,t){if(1&e&&(oe.Zb(0,"nz-timeline",12),oe.Kc(1,wr,3,0,"ng-template",null,13,oe.Lc),oe.Kc(3,Tr,2,1,"ng-container",14),oe.Yb()),2&e){var n=oe.Ac(2),c=oe.kc(2).ngVar,r=oe.kc();oe.sc("nzPending",c)("nzPendingDot",n),oe.Cb(3),oe.sc("ngForOf",r.twig)}}function Sr(e,t){if(1&e&&(oe.Zb(0,"div",10),oe.Kc(1,kr,4,3,"nz-timeline",11),oe.Yb()),2&e){var n=oe.kc(2);oe.Cb(1),oe.sc("ngIf",null==n.twig?null:n.twig.length)}}function Pr(e,t){1&e&&oe.Ub(0,"div",24)}var Mr=function(){return[]};function Ir(e,t){if(1&e&&(oe.Zb(0,"div",1),oe.Zb(1,"div",2),oe.Kc(2,jr,9,14,"st-list-item",3),oe.Yb(),oe.Zb(3,"nz-spin",4),oe.Kc(4,Sr,2,1,"div",5),oe.Kc(5,Pr,1,0,"ng-template",null,6,oe.Lc),oe.Yb(),oe.Yb()),2&e){var n=oe.Ac(6),c=oe.kc();oe.Cb(2),oe.sc("ngForOf",c.tops||oe.vc(4,Mr)),oe.Cb(1),oe.sc("nzSpinning",!c.twig),oe.Cb(1),oe.sc("ngIf",null==c.twig?null:c.twig.length)("ngIfElse",n)}}var _r=function(){function e(e){this.contextMenus=e,this.changeTwig=new oe.n,this.goToParent=new oe.n}return e.prototype.ngOnInit=function(){},e.prototype.contextMenu=function(e){if(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}(e,2),n=t[0],c=t[1];this.contextMenus.forRecordByType(c[0].type,{element:c,propertiesToEdit:le.c[c[0].type]}).show(n)}},e.\u0275fac=function(t){return new(t||e)(oe.Tb(Dn.a))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-branch"]],inputs:{twig:"twig",branch:"branch",tops:"tops",selectedTopId:"selectedTopId"},outputs:{changeTwig:"changeTwig",goToParent:"goToParent"},decls:2,vars:3,consts:[["id","container",4,"ngVar"],["id","container"],["id","toplist"],[3,"activate","click",4,"ngFor","ngForOf"],[3,"nzSpinning"],["id","timeline",4,"ngIf","ngIfElse"],["filler",""],[3,"activate","click"],["nz-icon","","nzTheme","outline",3,"nzType"],["nz-typography","","stHighlightSecondary","",3,"highlight"],["id","timeline"],[3,"nzPending","nzPendingDot",4,"ngIf"],[3,"nzPending","nzPendingDot"],["goBack",""],[4,"ngFor","ngForOf"],["id","pending"],["nz-button","",2,"border","none","padding","0",3,"click"],["nz-icon","","nzType","branches","nzTheme","outline"],[3,"nzDot",4,"ngIf"],[3,"nzDot"],["id","branch-node",3,"contextmenu"],[3,"node","onContextmenu"],["dotTemplate",""],[3,"node","branch","changeTwig"],[2,"width","300px","height","350px"]],template:function(e,t){1&e&&(oe.Kc(0,Ir,7,5,"div",0),oe.lc(1,"isNonRootedTwig")),2&e&&oe.sc("ngVar",oe.mc(1,1,t.twig))},directives:[me.a,c.s,Dc.a,c.t,Oe.a,Ce.a,je.a,de.c,Kc.a,Bc.a,ge.a,xe.a,Bc.b,or,mr],pipes:[yr,Or,Cr,lr],styles:["#container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start}#timeline[_ngcontent-%COMP%]{padding-left:20px;padding-top:10px;height:350px;overflow-y:auto;padding-bottom:10px}#branch-node[_ngcontent-%COMP%]{margin-top:5px}#pending[_ngcontent-%COMP%]{font-size:11pt}#toplist[_ngcontent-%COMP%]{min-width:140px;margin-right:5px;padding-right:5px;border-right:1px solid #e6e6e6}[nzType=node-collapse][_ngcontent-%COMP%]{-webkit-transform:rotate(270deg);transform:rotate(270deg)}[nzType=sub-node][_ngcontent-%COMP%]{margin-right:5px}[nz-typography][_ngcontent-%COMP%]{margin-left:10px}[nzType=branches][_ngcontent-%COMP%]{color:#919191}"],changeDetection:0}),e}(),Er=function(){function e(){}return e.prototype.transform=function(e,t){return!(!e||!t)&&e.some((function(e){var n,c;return(null===(c=null===(n=e.record)||void 0===n?void 0:n[1])||void 0===c?void 0:c.id)===t.HEADId}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"hasHEAD",type:e,pure:!0}),e}(),Yr=function(){function e(){}return e.prototype.transform=function(e){return e?e.name?e.name:"Id = "+e.id:""},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"branchToName",type:e,pure:!0}),e}();function Ar(e,t){1&e&&(oe.Zb(0,"nz-tag",12),oe.Zb(1,"span",13),oe.Mc(2,"CURRENT"),oe.Yb(),oe.Yb()),2&e&&oe.sc("nzColor","gold")}function Zr(e,t){if(1&e&&(oe.Zb(0,"span",10),oe.Mc(1),oe.lc(2,"branchToName"),oe.Yb(),oe.Kc(3,Ar,3,1,"nz-tag",11)),2&e){var n=oe.kc().$implicit,c=oe.kc(2);oe.Cb(1),oe.Oc("Branch ",oe.mc(2,2,n),""),oe.Cb(2),oe.sc("ngIf",!!c.currentElement&&n.id===c.currentElement[0].currentBranchId)}}function Dr(e,t){1&e&&(oe.Zb(0,"st-collaboration-popup",14),oe.Zb(1,"nz-tag",15),oe.Mc(2,"private"),oe.Yb(),oe.Ub(3,"nz-avatar",16),oe.Yb()),2&e&&(oe.sc("trigger","click")("title","Assign collaborators to work on these data"),oe.Cb(1),oe.sc("nzColor","#108ee9"),oe.Cb(2),oe.sc("nzSize",25))}function Br(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"nz-collapse-panel",2),oe.hc("nzActiveChange",(function(e){oe.Bc(n);var c=t.$implicit;return oe.kc(2).activate(e,c.id)})),oe.Zb(1,"div",3),oe.Zb(2,"button",4),oe.hc("click",(function(e){oe.Bc(n);var t=oe.kc(2);return t.goToParent(t.currentTwig[t.currentTwig.length-1].record)})),oe.lc(3,"isNonRootedTwig"),oe.Ub(4,"i",5),oe.Yb(),oe.Zb(5,"button",6),oe.hc("click",(function(e){return oe.Bc(n),oe.kc(2).goToHead()})),oe.lc(6,"hasHEAD"),oe.Mc(7,"Current state"),oe.Yb(),oe.Yb(),oe.Zb(8,"st-branch",7),oe.hc("changeTwig",(function(e){return oe.Bc(n),oe.kc(2).changeTwig(e)}))("goToParent",(function(e){return oe.Bc(n),oe.kc(2).goToParent(e)})),oe.Yb(),oe.Kc(9,Zr,4,4,"ng-template",null,8,oe.Lc),oe.Kc(11,Dr,4,4,"ng-template",null,9,oe.Lc),oe.Yb()}if(2&e){var c=t.$implicit,r=t.index,i=oe.Ac(10),o=oe.Ac(12),a=oe.kc(2);oe.sc("nzHeader",i)("nzExtra",o)("nzActive",r===a.selectedBranchIdx),oe.Cb(2),oe.sc("nzSize","small")("disabled",!oe.mc(3,10,a.currentTwig)),oe.Cb(3),oe.sc("disabled",!a.currentBranch||!a.currentTwig||oe.nc(6,12,a.currentTwig,a.currentBranch))("nzSize","small"),oe.Cb(3),oe.sc("branch",c)("twig",a.currentTwig)("tops",a.currentTopsList)}}function Kr(e,t){if(1&e&&(oe.Zb(0,"nz-collapse"),oe.Kc(1,Br,13,15,"nz-collapse-panel",1),oe.Yb()),2&e){var n=oe.kc();oe.Cb(1),oe.sc("ngForOf",n.branches)}}var $r=function(){function e(e,t){this.store=e,this.cdr=t,this._subs=new ce.a,this.goToElement=new oe.n}return Object.defineProperty(e.prototype,"element",{set:function(e){(Object(D.g)(e)||Object(D.d)(e))&&(this.currentElement&&this.currentElement[0].id===e[0].id&&this.currentElement[1].id===e[1].id||this.store.dispatch(fc(e)))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._subs.add(this.store.select(Yc).subscribe((function(t){e.currentTwig=t,e.cdr.detectChanges()}))).add(this.store.select(Mc).subscribe((function(t){e.branches=t,e.cdr.detectChanges()}))).add(this.store.select(Sc).subscribe((function(t){e.selectedBranchIdx=t,e.cdr.detectChanges()}))).add(this.store.select(_c).subscribe((function(t){e.currentElement=t,e.cdr.detectChanges()}))).add(this.store.select(Ac).subscribe((function(t){e.currentTopsList=t,e.cdr.detectChanges()}))).add(this.store.select(Ic).subscribe((function(t){e.currentBranch=t,e.cdr.detectChanges()})))},e.prototype.activate=function(e,t){this.store.dispatch(uc(this.currentElement,t)),this.cdr.detectChanges()},e.prototype.changeTwig=function(e){this.store.dispatch(pc(e))},e.prototype.goToParent=function(e){this.store.dispatch(gc(e))},e.prototype.goToHead=function(){this.currentElement&&this.store.dispatch(hc(this.currentElement))},e.prototype.ngOnDestroy=function(){this._subs.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(oe.Tb(s.b),oe.Tb(oe.h))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-branches"]],inputs:{element:"element"},outputs:{goToElement:"goToElement"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"nzHeader","nzExtra","nzActive","nzActiveChange",4,"ngFor","ngForOf"],[3,"nzHeader","nzExtra","nzActive","nzActiveChange"],["id","buttons"],["nz-button","","title","Go up a twig",3,"nzSize","disabled","click"],["nz-icon","","nzType","arrow-up","nzTheme","outline",2,"font-size","15px"],["nz-button","","title","Go to twig with current state",2,"margin-left","10px",3,"disabled","nzSize","click"],[3,"branch","twig","tops","changeTwig","goToParent"],["branchName",""],["collaborators",""],["id","branch-name"],["title","The current branch in use",3,"nzColor",4,"ngIf"],["title","The current branch in use",3,"nzColor"],["id","current-tag"],[3,"trigger","title"],["title","This branch is private",3,"nzColor"],["nzIcon","usergroup-add","title","Assign collaborators",3,"nzSize"]],template:function(e,t){1&e&&oe.Kc(0,Kr,2,1,"nz-collapse",0),2&e&&oe.sc("ngIf",!!t.branches)},directives:[c.t,Zc.a,c.s,Zc.c,ge.a,xe.a,je.a,Ce.a,_r,en.a,Te.a,Xt.a],pipes:[yr,Er,Yr],styles:["#branch-name[_ngcontent-%COMP%]{font-family:Assistant;font-size:11pt}nz-tag[_ngcontent-%COMP%]{margin-left:10px}#current-tag[_ngcontent-%COMP%]{font-family:Assistant;font-variant:small-caps;font-weight:700}nz-avatar[_ngcontent-%COMP%]{margin-left:5px;border:1px solid #6a8d92;color:grey;background-color:#fff}#buttons[_ngcontent-%COMP%]{margin-bottom:10px}"],changeDetection:0}),e}(),Fr=n("jofw");function Nr(e,t){if(1&e){var n=oe.ac();oe.Xb(0),oe.Zb(1,"st-element-header",5),oe.qc(2),oe.Yb(),oe.Ub(3,"nz-space"),oe.Ub(4,"nz-divider",6),oe.Zb(5,"st-node-neighbors",7),oe.hc("addParent",(function(e){return oe.Bc(n),oe.kc().addParent.next(e)}))("nextElement",(function(e){return oe.Bc(n),oe.kc().goToElement.next(e)})),oe.Yb(),oe.Ub(6,"nz-space"),oe.Ub(7,"nz-divider",6),oe.Ub(8,"st-branches",5),oe.Ub(9,"nz-space"),oe.Ub(10,"nz-divider",6),oe.Ub(11,"st-element-communications"),oe.Wb()}if(2&e){var c=oe.kc(),r=oe.Ac(2),i=oe.Ac(4),o=oe.Ac(6);oe.Cb(1),oe.sc("element",c.element),oe.Cb(3),oe.sc("nzText",r),oe.Cb(1),oe.sc("neighbors",c.neighbors)("node",c.element),oe.Cb(2),oe.sc("nzText",i),oe.Cb(1),oe.sc("element",c.element),oe.Cb(2),oe.sc("nzText",o)}}function Rr(e,t){1&e&&(oe.Zb(0,"div",8),oe.Ub(1,"img",9),oe.Zb(2,"h3",10),oe.Mc(3,"Neighbors"),oe.Yb(),oe.Yb())}function Lr(e,t){1&e&&(oe.Zb(0,"div",8),oe.Zb(1,"h3",10),oe.Ub(2,"i",11),oe.Mc(3," Version control"),oe.Yb(),oe.Yb())}function qr(e,t){1&e&&(oe.Zb(0,"div",8),oe.Zb(1,"h3",10),oe.Ub(2,"i",12),oe.Mc(3," Communications"),oe.Yb(),oe.Yb())}function Ur(e,t){1&e&&oe.Ub(0,"nz-empty")}var Vr=["*"],Hr=function(){function e(e,t){this.cdr=e,this.modals=t,this.goToElement=new oe.n,this.addParent=new oe.n}return e.prototype.ngOnInit=function(){},e.prototype.learnMore=function(){this.modals.showEarlyBirdsProgram()},e.\u0275fac=function(t){return new(t||e)(oe.Tb(oe.h),oe.Tb(Zn.a))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-node"]],inputs:{element:"element",neighbors:"neighbors"},outputs:{goToElement:"goToElement",addParent:"addParent"},ngContentSelectors:Vr,decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["neighborsSection",""],["branchesSection",""],["commSection",""],["noElement",""],[3,"element"],[3,"nzText"],[3,"neighbors","node","addParent","nextElement"],[1,"sec-title"],["src","assets/icons/graph-dark.png",1,"sec-title-child"],[1,"sec-title-child"],["nz-icon","","nzType","branches","nzTheme","outline"],["nz-icon","","nzType","comment","nzTheme","outline"]],template:function(e,t){if(1&e&&(oe.rc(),oe.Kc(0,Nr,12,7,"ng-container",0),oe.Kc(1,Rr,4,0,"ng-template",null,1,oe.Lc),oe.Kc(3,Lr,4,0,"ng-template",null,2,oe.Lc),oe.Kc(5,qr,4,0,"ng-template",null,3,oe.Lc),oe.Kc(7,Ur,1,0,"ng-template",null,4,oe.Lc)),2&e){var n=oe.Ac(8);oe.sc("ngIf",t.element)("ngIfElse",n)}},directives:[c.t,rc,ve.a,fe.a,ic.a,$r,Fr.a,Ce.a,je.a,ut.b],styles:["img[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:8px;-webkit-transform:translateY(5px);transform:translateY(5px)}.sec-title[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"],changeDetection:0}),e}();function Gr(e,t){if(1&e){var n=oe.ac();oe.Xb(0),oe.Zb(1,"st-element-header",2),oe.qc(2),oe.Yb(),oe.Ub(3,"nz-divider"),oe.Zb(4,"nz-collapse"),oe.Zb(5,"nz-collapse-panel",3),oe.hc("nzActiveChange",(function(e){return oe.Bc(n),oe.kc().tick()})),oe.Ub(6,"st-branches",2),oe.Yb(),oe.Yb(),oe.Wb()}if(2&e){var c=oe.kc();oe.Cb(1),oe.sc("element",c.element),oe.Cb(4),oe.sc("nzHeader","Branches")("nzActive",!0),oe.Cb(1),oe.sc("element",c.element)}}function Jr(e,t){1&e&&oe.Ub(0,"nz-empty")}var Qr=["*"],Wr=function(){function e(e){this.cdr=e,this.goToElement=new oe.n}return Object.defineProperty(e.prototype,"branches",{get:function(){return this._branches},set:function(e){this._branches=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.tick=function(){this.cdr.detectChanges()},e.\u0275fac=function(t){return new(t||e)(oe.Tb(oe.h))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-edge"]],inputs:{element:"element",selectedBranchIdx:"selectedBranchIdx",branches:"branches"},outputs:{goToElement:"goToElement"},ngContentSelectors:Qr,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noElement",""],[3,"element"],[3,"nzHeader","nzActive","nzActiveChange"]],template:function(e,t){if(1&e&&(oe.rc(),oe.Kc(0,Gr,7,4,"ng-container",0),oe.Kc(1,Jr,1,0,"ng-template",null,1,oe.Lc)),2&e){var n=oe.Ac(2);oe.sc("ngIf",t.element)("ngIfElse",n)}},directives:[c.t,rc,fe.a,Zc.a,Zc.c,$r,ut.b],styles:[""],changeDetection:0}),e}(),Xr=n("7CWi"),ei=n("rpki"),ti=n("Jbsz"),ni=n("bne5"),ci=n("AJqF"),ri=n("hJog"),ii=["ink"];function oi(e,t){}function ai(e,t){if(1&e&&(oe.Zb(0,"nz-affix",2),oe.Kc(1,oi,0,0,"ng-template",3),oe.Yb()),2&e){var n=oe.kc(),c=oe.Ac(2);oe.sc("nzOffsetTop",n.nzOffsetTop)("nzTarget",n.container),oe.Cb(1),oe.sc("ngTemplateOutlet",c)}}var si=function(e){return{fixed:e}};function li(e,t){if(1&e&&(oe.Zb(0,"div",4),oe.Zb(1,"div",5),oe.Zb(2,"div",6),oe.Ub(3,"div",7,8),oe.Yb(),oe.qc(5),oe.Yb(),oe.Yb()),2&e){var n=oe.kc();oe.sc("ngStyle",n.wrapperStyle),oe.Cb(1),oe.sc("ngClass",oe.wc(2,si,!n.nzAffix&&!n.nzShowInkInFixed))}}var ui=["*"],fi=["nzTemplate"],bi=["linkTitle"];function di(e,t){if(1&e&&(oe.Zb(0,"span"),oe.Mc(1),oe.Yb()),2&e){var n=oe.kc();oe.Cb(1),oe.Nc(n.titleStr)}}function pi(e,t){if(!e||!e.getClientRects().length)return 0;var n=e.getBoundingClientRect();return n.width||n.height?t===window?n.top-e.ownerDocument.documentElement.clientTop:n.top-t.getBoundingClientRect().top:n.top}var gi=/#([^#]+)$/,hi=function(){function e(e,t,n,c,r,i,o){this.doc=e,this.nzConfigService=t,this.scrollSrv=n,this.cdr=c,this.platform=r,this.zone=i,this.renderer=o,this.nzAffix=!0,this.nzClick=new oe.n,this.nzScroll=new oe.n,this.visible=!1,this.wrapperStyle={"max-height":"100vh"},this.links=[],this.animating=!1,this.destroy$=new sn.a,this.handleScrollTimeoutID=-1}return e.prototype.registerLink=function(e){this.links.push(e)},e.prototype.unregisterLink=function(e){this.links.splice(this.links.indexOf(e),1)},e.prototype.getContainer=function(){return this.container||window},e.prototype.ngAfterViewInit=function(){this.registerScrollEvent()},e.prototype.ngOnDestroy=function(){clearTimeout(this.handleScrollTimeoutID),this.destroy$.next(),this.destroy$.complete()},e.prototype.registerScrollEvent=function(){var e=this;this.platform.isBrowser&&(this.destroy$.next(),this.zone.runOutsideAngular((function(){Object(ni.a)(e.getContainer(),"scroll").pipe(Object(ci.a)(50),Object(ln.a)(e.destroy$)).subscribe((function(){return e.handleScroll()}))})),this.handleScrollTimeoutID=setTimeout((function(){return e.handleScroll()})))},e.prototype.handleScroll=function(){var e=this;if("undefined"!=typeof document&&!this.animating){var t=[],n=(this.nzOffsetTop||0)+this.nzBounds;if(this.links.forEach((function(c){var r=gi.exec(c.nzHref.toString());if(r){var i=e.doc.getElementById(r[1]);if(i){var o=pi(i,e.getContainer());o<n&&t.push({top:o,comp:c})}}})),this.visible=!!t.length,this.visible){var c=t.reduce((function(e,t){return t.top>e.top?t:e}));this.handleActive(c.comp)}else this.clearActive(),this.cdr.detectChanges();this.setVisible()}},e.prototype.clearActive=function(){this.links.forEach((function(e){e.unsetActive()}))},e.prototype.handleActive=function(e){this.clearActive(),e.setActive();var t=e.getLinkTitleElement();this.ink.nativeElement.style.top=t.offsetTop+t.clientHeight/2-4.5+"px",this.visible=!0,this.setVisible(),this.nzScroll.emit(e)},e.prototype.setVisible=function(){this.ink&&(this.visible?this.renderer.addClass(this.ink.nativeElement,"visible"):this.renderer.removeClass(this.ink.nativeElement,"visible"))},e.prototype.handleScrollTo=function(e){var t=this,n=this.doc.querySelector(e.nzHref);if(n){this.animating=!0;var c=this.scrollSrv.getScroll(this.getContainer())+pi(n,this.getContainer())-(this.nzOffsetTop||0);this.scrollSrv.scrollTo(this.getContainer(),c,void 0,(function(){t.animating=!1,t.handleActive(e)})),this.nzClick.emit(e.nzHref)}},e.prototype.ngOnChanges=function(e){var t=e.nzTarget,n=e.nzContainer;if(e.nzOffsetTop&&(this.wrapperStyle={"max-height":"calc(100vh - "+this.nzOffsetTop+"px)"}),n||t){var c=this.nzContainer||this.nzTarget;this.container="string"==typeof c?this.doc.querySelector(c):c,this.registerScrollEvent(),t&&Object(on.c)("'nzTarget' of 'nz-anchor' is deprecated and will be removed in 10.0.0.Please use 'nzContainer' instead.")}},Object(rn.b)([Object(an.a)(),Object(rn.d)("design:type",Object)],e.prototype,"nzAffix",void 0),Object(rn.b)([Object(ei.b)("anchor",!1),Object(an.a)(),Object(rn.d)("design:type",Boolean)],e.prototype,"nzShowInkInFixed",void 0),Object(rn.b)([Object(ei.b)("anchor",5),Object(an.b)(),Object(rn.d)("design:type",Number)],e.prototype,"nzBounds",void 0),Object(rn.b)([Object(an.b)(),Object(ei.b)("anchor"),Object(rn.d)("design:type",Number)],e.prototype,"nzOffsetTop",void 0),e.\u0275fac=function(t){return new(t||e)(oe.Tb(c.e),oe.Tb(ei.a),oe.Tb(ti.d),oe.Tb(oe.h),oe.Tb(Xr.a),oe.Tb(oe.z),oe.Tb(oe.E))},e.\u0275cmp=oe.Nb({type:e,selectors:[["nz-anchor"]],viewQuery:function(e,t){var n;1&e&&oe.Rc(ii,!0),2&e&&oe.zc(n=oe.ic())&&(t.ink=n.first)},inputs:{nzAffix:"nzAffix",nzShowInkInFixed:"nzShowInkInFixed",nzBounds:"nzBounds",nzOffsetTop:"nzOffsetTop",nzContainer:"nzContainer",nzTarget:"nzTarget"},outputs:{nzClick:"nzClick",nzScroll:"nzScroll"},exportAs:["nzAnchor"],features:[oe.Ab()],ngContentSelectors:ui,decls:3,vars:2,consts:[[3,"nzOffsetTop","nzTarget",4,"ngIf","ngIfElse"],["content",""],[3,"nzOffsetTop","nzTarget"],[3,"ngTemplateOutlet"],[1,"ant-anchor-wrapper",3,"ngStyle"],[1,"ant-anchor",3,"ngClass"],[1,"ant-anchor-ink"],[1,"ant-anchor-ink-ball"],["ink",""]],template:function(e,t){if(1&e&&(oe.rc(),oe.Kc(0,ai,2,3,"nz-affix",0),oe.Kc(1,li,6,4,"ng-template",null,1,oe.Lc)),2&e){var n=oe.Ac(2);oe.sc("ngIf",t.nzAffix)("ngIfElse",n)}},directives:[c.t,ri.a,c.A,c.w,c.q],encapsulation:2,changeDetection:0}),e}(),mi=function(){function e(e,t,n,c){this.elementRef=e,this.anchorComp=t,this.platform=n,this.renderer=c,this.nzHref="#",this.titleStr="",this.renderer.addClass(e.nativeElement,"ant-anchor-link")}return Object.defineProperty(e.prototype,"nzTitle",{set:function(e){e instanceof oe.L?(this.titleStr=null,this.titleTpl=e):this.titleStr=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.anchorComp.registerLink(this)},e.prototype.getLinkTitleElement=function(){return this.linkTitle.nativeElement},e.prototype.setActive=function(){this.renderer.addClass(this.elementRef.nativeElement,"ant-anchor-link-active")},e.prototype.unsetActive=function(){this.renderer.removeClass(this.elementRef.nativeElement,"ant-anchor-link-active")},e.prototype.goToClick=function(e){e.preventDefault(),e.stopPropagation(),this.platform.isBrowser&&this.anchorComp.handleScrollTo(this)},e.prototype.ngOnDestroy=function(){this.anchorComp.unregisterLink(this)},e.\u0275fac=function(t){return new(t||e)(oe.Tb(oe.l),oe.Tb(hi),oe.Tb(Xr.a),oe.Tb(oe.E))},e.\u0275cmp=oe.Nb({type:e,selectors:[["nz-link"]],contentQueries:function(e,t,n){var c;1&e&&oe.Lb(n,fi,!0),2&e&&oe.zc(c=oe.ic())&&(t.nzTemplate=c.first)},viewQuery:function(e,t){var n;1&e&&oe.Rc(bi,!0),2&e&&oe.zc(n=oe.ic())&&(t.linkTitle=n.first)},inputs:{nzHref:"nzHref",nzTitle:"nzTitle"},exportAs:["nzLink"],ngContentSelectors:ui,decls:4,vars:4,consts:[[1,"ant-anchor-link-title",3,"href","title","click"],["linkTitle",""],[4,"ngIf","ngIfElse"]],template:function(e,t){1&e&&(oe.rc(),oe.Zb(0,"a",0,1),oe.hc("click",(function(e){return t.goToClick(e)})),oe.Kc(2,di,2,1,"span",2),oe.Yb(),oe.qc(3)),2&e&&(oe.tc("href",t.nzHref,oe.Dc),oe.tc("title",t.titleStr),oe.Cb(2),oe.sc("ngIf",t.titleStr)("ngIfElse",t.titleTpl||t.nzTemplate))},directives:[c.t],encapsulation:2,changeDetection:0}),e}(),vi=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},providers:[ti.f],imports:[[c.c,ri.b,Xr.b]]}),e}(),yi=n("hQab"),Oi=n("VMFY"),Ci=n("FkPJ"),ji=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},wi=function(){function e(e,t,n){var c=this;this.store=e,this.actions=t,this.engine=n,this.fulfillEdgeDeps$=Object(rt.c)((function(){return c.store.select(Oi.a).pipe(Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(c.store.select(Ci.a)))})),Object(Pt.a)((function(e){var t,n,c=ji(e,2),r=c[0];return!!(null===(t=r)||void 0===t?void 0:t.from)&&!!(null===(n=r)||void 0===n?void 0:n.to)&&!!c[1]})),Object(En.a)((function(e,t){var n,c,r,i;return e[1]===t[1]&&(null===(n=e[0].from)||void 0===n?void 0:n.length)===(null===(c=t[0].from)||void 0===c?void 0:c.length)&&(null===(r=e[0].to)||void 0===r?void 0:r.length)===(null===(i=t[0].to)||void 0===i?void 0:i.length)})),Object(Pt.a)((function(e){var t=ji(e,1)[0];return t.from.length+t.to.length>0})),Object(It.a)((function(e){var t=ji(e,1)[0],n=t.from,c=t.to;return Object(k.g)(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ji(arguments[t]));return e}(n,c))})))}))}return e.\u0275fac=function(t){return new(t||e)(oe.dc(s.b),oe.dc(rt.a),oe.dc(Ft.b))},e.\u0275prov=oe.Pb({token:e,factory:e.\u0275fac}),e}(),zi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var c,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(a){r={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},xi=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zi(arguments[t]));return e},Ti=function(){function e(e,t,n){var c=this;this.store=e,this.actions=t,this.engine=n,this.initBranches$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(fc),Object(it.h)(),Object(kt.a)((function(e){var t=e.element;return Object(Yt.a)(t).pipe(Object(St.a)(c.store.select(Tc)))})),Object(Pt.a)((function(e){var t=zi(e,2),n=t[0];return!t[1][Object(T.f)(n)]})),Object(Mt.a)((function(e){var t=zi(e,1)[0];return c.engine.datastore.graph.selectByType(t[0].type).get$((function(e){return e.getBranches(t[0])})).pipe(Object(Mt.a)((function(e){return xi([lc(t,e),k.eb(e)],e.map((function(e){return bc(t,e)})))})))})))})),this.getTops$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(bc),Object(Mt.a)((function(e){var t=e.element,n=e.branch;return c.engine.datastore.graph.selectByType(t[0].type).get$((function(e){return e.getTops(n)})).pipe(Object(it.a)("Found tops for branch"),Object(It.a)((function(e){return e.map((function(e){return[t[0],e]}))})),Object(Mt.a)((function(e){return[k.hb(e),dc(n,e)]})),Object(_t.a)((function(e){return[]})))})))})),this.getRecordTwig$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(fc),Object(it.h)(),Object(En.a)((function(e,t){return e.element[0].id===t.element[0].id&&e.element[1].id===t.element[1].id})),Object(Mt.a)((function(e){var t=e.element,n=k.F();return c.store.dispatch(ac(t[0],t[1].id,n)),c.actions.pipe(Object(it.d)(n,sc),Object(It.a)((function(e){return pc(e.top)})))})))})),this.getTwig$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(ac),Object(it.a)("getting a twig"),Object(Mt.a)((function(e){var t=e.element,n=e.recordId,r=e.correlationId;return c.engine.datastore.graph.selectByType(t.type).get$((function(e){return e.getRecordTwig(n)})).pipe(Object(it.a)("here's the twig!"),Object(It.a)((function(e){return sc([t,e[0].record],e,r)})),Object(_t.a)((function(e){return Zt.a})))})))})),this.goToParentTwig$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(gc),Object(Mt.a)((function(e){var t=e.parent;return c.engine.datastore.graph.selectByType(t[0].type).get$((function(e){return e.getTopOfRecord(t[1].id)})).pipe(Object(It.a)((function(e){return pc([t[0],e])})),Object(_t.a)((function(e){return[]})))})))})),this.goToHEADtwig$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(hc),Object(Mt.a)((function(e){var t=e.element;return c.engine.datastore.graph.selectByType(t[0].type).get$((function(e){return e.getHEAD(t[0])})).pipe(Object(Mt.a)((function(e){return c.engine.datastore.graph.selectByType(t[0].type).get$((function(t){return t.getTopOfRecord(e.id)}))})),Object(It.a)((function(e){return pc([t[0],e])})),Object(_t.a)((function(e){return[]})))})))})),this.getActiveTwig$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(pc),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(c.store.select(zc)))})),Object(Pt.a)((function(e){var t=zi(e,2),n=t[0].top;return!t[1][Object(T.f)(n)]})),Object(It.a)((function(e){var t=zi(e,1)[0].top;return ac(t[0],t[1].id)})))})),this.selectBranchFromTwig$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(pc),Object(kt.a)((function(e){return Object(Yt.a)(e).pipe(Object(St.a)(c.store.select(_c)))})),Object(Mt.a)((function(e){var t=zi(e,2),n=t[0].top,r=t[1];return c.engine.datastore.graph.selectByType(n[0].type).get$((function(e){return e.getBranchInfo(n[0],n[1])})).pipe(Object(It.a)((function(e){return uc(r,e.id)})))})))})),this.addToLocalGraph$=Object(rt.c)((function(){return c.actions.pipe(Object(rt.d)(sc),Object(It.a)((function(e){var t=e.twig,n=e.top[0],c=Object(D.b)(n);function r(e,t){return e.push.apply(e,xi([[n,t.record]],t.offshoots.map((function(e){return[n,e]})))),e}if(c===Z.a.Node)return k.f(t.reduce(r,[]));if(c===Z.a.Edge)return k.e(t.reduce(r,[]));throw new Error("whoops")})))}))}return e.\u0275fac=function(t){return new(t||e)(oe.dc(s.b),oe.dc(rt.a),oe.dc(Ft.b))},e.\u0275prov=oe.Pb({token:e,factory:e.\u0275fac}),e}(),ki=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c,r.a,s.d.forFeature("branches",Oc,{initialState:vc}),rt.b.forFeature([Ti]),Bc.c,Tn,Ce.b,en.b,Zc.b,Sn.i,de.d,Gc,be.b,Dc.b]]}),e}(),Si=function(){function e(e,t){this.store=e,this.actions=t}return e.\u0275fac=function(t){return new(t||e)(oe.dc(s.b),oe.dc(rt.a))},e.\u0275prov=oe.Pb({token:e,factory:e.\u0275fac}),e}(),Pi=n("xJsV"),Mi=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c,r.a,s.d.forFeature(Pi.a,Pi.c,{initialState:Pi.b}),rt.b.forFeature([Si]),en.b,cn.c,Ce.b,ge.c]]}),e}(),Ii=n("vjwB"),_i=n("w3Dg"),Ei=n("3VIw"),Yi=n("jIbU"),Ai=n("a1lU"),Zi=n("2xHj"),Di=n("looV"),Bi=n("/RLq"),Ki=n("du9V"),$i=n("R08+"),Fi=n("j+pk"),Ni=n("o8Qb"),Ri=n("egw2"),Li=n("W9u+"),qi=n("l+6v"),Ui=n("MsaT"),Vi=n("odC9"),Hi=n("Ga0D"),Gi=n("Q4PE"),Ji=n("vA+F"),Qi=n("vzBY"),Wi=n("d546"),Xi=n("jfam"),eo=n("H153"),to=n("AxQO"),no=n("ZGOr"),co=n("QKCv"),ro=n("IjwS"),io=n("JcEs"),oo=n("n5EL"),ao=n("t45o"),so=n("XiQz"),lo=n("H9Ky"),uo=n("S6Y9"),fo=n("lx98"),bo=n("hDPz"),po=n("sQAe"),go=n("m7f2"),ho=n("yRLV"),mo=n("heQn"),vo=n("+DYK"),yo=n("JebB"),Oo=n("EpA7"),Co=n("ezV7"),jo=n("tLZS"),wo=function(){function e(){this.selectElement=new oe.n}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-node-breadcrumb"]],inputs:{crumb:"crumb",isPast:"isPast",isPresent:"isPresent",isFuture:"isFuture"},outputs:{selectElement:"selectElement"},decls:5,vars:8,consts:[["id","container"],[3,"node","size"],["id","title"]],template:function(e,t){1&e&&(oe.Zb(0,"div",0),oe.Ub(1,"st-node-avatar",1),oe.Zb(2,"div",2),oe.Mc(3),oe.lc(4,"elementToTitle"),oe.Yb(),oe.Yb()),2&e&&(oe.Cb(1),oe.sc("node",t.crumb)("size","small"),oe.Cb(1),oe.Jb("is-present",t.isPresent),oe.Cb(1),oe.Oc(" ",oe.nc(4,5,t.crumb,10)," "))},directives:[$n.a],pipes:[Vn.a],styles:["#container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-left:10px}#title[_ngcontent-%COMP%]{margin-left:5px;font-family:Assistant;font-size:11pt}.is-present[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}),e}();function zo(e,t){1&e&&oe.Ub(0,"i",5),2&e&&oe.sc("nzType","arrow-left")}function xo(e,t){if(1&e&&oe.Ub(0,"st-edge-avatar",6),2&e){var n=oe.kc(2);oe.sc("edge",n.crumb)("size","small")}}function To(e,t){if(1&e&&(oe.Zb(0,"div",7),oe.Mc(1),oe.lc(2,"elementToTitle"),oe.Yb()),2&e){var n=oe.kc(2);oe.Jb("is-present",n.isPresent),oe.Cb(1),oe.Oc(" ",oe.nc(2,3,n.crumb,10)," ")}}function ko(e,t){1&e&&oe.Ub(0,"i",5),2&e&&oe.sc("nzType","arrow-right")}function So(e,t){if(1&e&&(oe.Zb(0,"div",1),oe.Zb(1,"div"),oe.Kc(2,zo,1,1,"i",2),oe.Yb(),oe.Kc(3,xo,1,2,"st-edge-avatar",3),oe.Kc(4,To,3,6,"div",4),oe.Zb(5,"div"),oe.Kc(6,ko,1,1,"i",2),oe.Yb(),oe.Yb()),2&e){var n=oe.kc();oe.Cb(2),oe.sc("ngIf","left"===n.crumb.direction),oe.Cb(1),oe.sc("ngIf",n.isPresent),oe.Cb(1),oe.sc("ngIf",n.isPresent),oe.Cb(2),oe.sc("ngIf","right"===n.crumb.direction)}}var Po=function(){function e(){this.selectElement=new oe.n}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-edge-breadcrumb"]],inputs:{crumb:"crumb",isPast:"isPast",isPresent:"isPresent",isFuture:"isFuture",leftNode:"leftNode",rightNode:"rightNode"},outputs:{selectElement:"selectElement"},decls:1,vars:1,consts:[["id","container",4,"ngIf"],["id","container"],["nz-icon","","nzTheme","outline",3,"nzType",4,"ngIf"],[3,"edge","size",4,"ngIf"],["id","title",3,"is-present",4,"ngIf"],["nz-icon","","nzTheme","outline",3,"nzType"],[3,"edge","size"],["id","title"]],template:function(e,t){1&e&&oe.Kc(0,So,7,4,"div",0),2&e&&oe.sc("ngIf",t.crumb)},directives:[c.t,Ce.a,je.a,Fn.a],pipes:[Vn.a],styles:["#container[_ngcontent-%COMP%]{margin-left:10px;font-family:Assistant;font-size:11pt;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start}.is-present[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}),e}(),Mo=function(){function e(){}return e.prototype.transform=function(e){return Object(D.g)(e)},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"isNodeCrumb",type:e,pure:!0}),e}(),Io=function(){function e(){}return e.prototype.transform=function(e){return Object(D.d)(e)},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=oe.Sb({name:"isEdgeCrumb",type:e,pure:!0}),e}();function _o(e,t){if(1&e&&oe.Ub(0,"st-node-breadcrumb",5),2&e){var n=oe.kc(),c=n.$implicit,r=n.index,i=oe.kc();oe.sc("crumb",c)("isPast",r<i.breadcrumbs.index)("isPresent",r===i.breadcrumbs.index)("isFuture",r>i.breadcrumbs.index)}}function Eo(e,t){if(1&e&&oe.Ub(0,"st-edge-breadcrumb",6),2&e){var n=oe.kc(),c=n.$implicit,r=n.index,i=oe.kc();oe.sc("crumb",c)("isPast",r<i.breadcrumbs.index)("isPresent",r===i.breadcrumbs.index)("isFuture",r>i.breadcrumbs.index)("leftNode",i.breadcrumbs.trail[r+1])("rightNode",i.breadcrumbs.trail[r-1])}}function Yo(e,t){if(1&e){var n=oe.ac();oe.Zb(0,"div",2),oe.hc("click",(function(e){oe.Bc(n);var c=t.$implicit;return oe.kc().selectCrumb(c)})),oe.Kc(1,_o,1,4,"st-node-breadcrumb",3),oe.lc(2,"isNodeCrumb"),oe.Kc(3,Eo,1,6,"st-edge-breadcrumb",4),oe.lc(4,"isEdgeCrumb"),oe.Yb()}if(2&e){var c=t.$implicit,r=t.index,i=oe.kc();oe.Jb("not-present",r!==i.breadcrumbs.index),oe.Cb(1),oe.sc("ngIf",oe.mc(2,4,c)),oe.Cb(2),oe.sc("ngIf",oe.mc(4,6,c))}}var Ao=function(){return[]},Zo=function(){function e(e,t){this.store=e,this.cdr=t,this._subs=new ce.a}return e.prototype.ngOnInit=function(){var e=this;this._subs.add(this.store.select(Ci.c).subscribe((function(t){e.breadcrumbs=t,e.cdr.detectChanges()}))).add(this.store.select(Ci.b).subscribe((function(t){e.presentElement=t,e.cdr.detectChanges()})))},e.prototype.selectCrumb=function(e){e&&this.store.dispatch(Object(jo.d)(e))},e.prototype.ngOnDestroy=function(){this._subs.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(oe.Tb(s.b),oe.Tb(oe.h))},e.\u0275cmp=oe.Nb({type:e,selectors:[["st-breadcrumbs"]],decls:2,vars:2,consts:[["id","container"],[3,"not-present","click",4,"ngFor","ngForOf"],[3,"click"],[3,"crumb","isPast","isPresent","isFuture",4,"ngIf"],[3,"crumb","isPast","isPresent","isFuture","leftNode","rightNode",4,"ngIf"],[3,"crumb","isPast","isPresent","isFuture"],[3,"crumb","isPast","isPresent","isFuture","leftNode","rightNode"]],template:function(e,t){1&e&&(oe.Zb(0,"div",0),oe.Kc(1,Yo,5,8,"div",1),oe.Yb()),2&e&&(oe.Cb(1),oe.sc("ngForOf",(null==t.breadcrumbs?null:t.breadcrumbs.trail)||oe.vc(1,Ao)))},directives:[c.s,c.t,wo,Po],pipes:[Mo,Io],styles:["#container[_ngcontent-%COMP%]{-webkit-transform:translateY(-6px);transform:translateY(-6px);display:-webkit-box;display:flex;width:100%;-webkit-box-pack:start;justify-content:flex-start}.not-present[_ngcontent-%COMP%]{opacity:.8;-webkit-filter:grayscale(90%);filter:grayscale(90%);cursor:pointer}"],changeDetection:0}),e}(),Do=n("Rarl"),Bo=n("ITC6"),Ko=n("2FnW"),$o=n("TYzs"),Fo=n("KnSS"),No=n("1oi5"),Ro=n("d4Zc"),Lo=n("/eJ6"),qo=n("yFIv"),Uo=n("xeYQ"),Vo=n("sEf1"),Ho=n("Jo6u"),Go=n("LxZ7"),Jo=n("Rg9o"),Qo=n("nL8W"),Wo=n("780k"),Xo=n("N9wr"),ea=n("vAkD"),ta=n("04fG"),na=n("6rJu"),ca=n("D6Wh"),ra=n("RVVk"),ia=n("/1J+"),oa=n("OVOR"),aa=n("zZbE"),sa=n("l8nt"),la=n("SABM"),ua=n("FIq2"),fa=n("2fBx"),ba=n("6QNW"),da=n("L51a"),pa=n("Ofpj"),ga=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c,Tn,cn.c,r.a,s.d.forFeature(yi.a,yi.c,{initialState:yi.b}),rt.b.forFeature([wi]),nn.g,ut.c,Zc.b,fe.b,vi,ki,Mi]]}),e}();oe.Ec(mt.a,[mt.a,Hr,Wr,rc,c.q,c.r,c.s,c.t,c.A,c.w,c.x,c.y,c.z,c.u,c.v,wn,zn,xn,kn.c,kn.f,kn.h,kn.d,kn.e,cn.b,cn.a,cn.e,cn.d,Ni.a,we.A,we.r,we.z,we.c,we.s,we.v,we.a,we.x,we.y,we.u,we.m,we.n,we.w,we.j,we.i,we.t,we.b,we.d,we.p,we.q,we.o,Ce.a,ve.a,ve.b,Jt.a,Jt.d,Dc.a,Qt.a,Qt.e,Qt.c,Qt.p,Qt.b,Qt.h,Qt.k,Qt.m,Qt.l,Qt.j,Qt.g,Qt.f,Qt.i,Qt.n,Qt.d,en.a,Ii.d,Ii.c,Ii.e,Ii.a,Ii.b,de.c,de.a,de.b,ue.a,pe.a,pe.c,pe.d,pe.e,pe.f,he.a,_i.a,ri.a,ge.a,ge.b,je.a,xe.a,Xt.a,Ei.a,Ei.b,fe.a,Gt.a,Gt.d,Gt.b,Mn.a,Mn.b,Mn.d,Mn.c,Mn.f,Ht.b,Ht.c,Ht.a,Bc.b,Bc.a,Zc.c,Zc.a,Yi.a,Sn.g,Sn.m,Sn.f,Sn.n,Sn.l,Sn.p,Sn.k,Sn.q,Sn.j,Sn.d,Sn.e,Sn.r,Sn.b,Sn.a,Sn.c,Sn.h,Sn.o,Ai.a,Zi.a,Zi.b,Zi.d,Di.a,Bn.a,Bn.c,Bi.b,Bi.c,Bi.d,Bi.a,Bi.g,Bi.f,Ki.a,Ki.e,Ki.b,Ki.c,Ki.d,Ki.f,Ki.h,Ki.i,ut.b,ut.a,nn.c,nn.j,nn.h,nn.d,nn.i,nn.e,nn.f,nn.b,nn.a,$i.a,$i.b,Fi.b,Fi.a,Fi.c,tn.b,tn.c,tn.f,tn.i,tn.d,tn.g,tn.a,tn.e,Ri.a,Li.a,qi.a,ye.a,Oe.a,me.a,Ui.a,Vi.a,Hi.a,Gi.a,Ji.a,Qi.a,Wi.a,Xi.a,eo.a,to.a,no.a,co.a,ro.a,io.a,oo.a,ao.a,so.a,lo.a,ft.a,Kc.a,uo.a,fo.a,bo.a,po.a,go.a,$n.a,Fn.a,ic.a,ho.a,Kn.a,mo.a,vo.a,yo.a,Nn.a,Fc.a,Te.a,$c.a,Fr.a,Oo.a,Rn.a,Ln.a,Co.a,hi,mi,_r,$r,Zo],[c.b,c.G,c.p,c.k,c.E,c.g,c.C,c.F,c.d,c.f,c.i,c.j,c.l,Ni.d,Do.a,Gn.a,Bo.a,Ko.a,$o.a,Fo.a,No.a,Ro.a,Lo.a,qo.a,Uo.a,Vo.a,Ho.a,Go.a,Jo.a,qn.a,Un.a,Qo.a,Wo.a,Xo.a,ea.a,ta.a,na.a,ca.a,ra.a,ia.a,oa.a,aa.a,sa.a,la.a,Vn.a,Hn.a,ua.a,fa.a,ba.a,da.a,sr.a,pa.a]);var ha=n("I/eH");n.d(t,"ActivityModule",(function(){return ma}));var ma=function(){function e(){}return e.\u0275mod=oe.Rb({type:e}),e.\u0275inj=oe.Qb({factory:function(t){return new(t||e)},imports:[[c.c,r.a,Tt,s.d.forFeature(_,A,{initialState:E}),rt.b.forFeature([Vt,An]),ve.c,fe.b,he.b,Ce.b,Ht.d,Gt.c,Jt.b,lt.e,Qt.o,Wt.b,pe.b,ut.c,he.b,Xt.b,en.b,de.d,ve.c,fe.b,tn.h,nn.g,cn.c,Tn,ge.c,kn.g,Sn.i,Pn.c,Mn.e,ga,ha.a,be.b]]}),e}()},epsL:function(e,t){}}]);