(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Xx9Q:function(e,n){},gA4M:function(e,n,t){"use strict";t.r(n);var i=t("Valr"),o=t("DUip"),r=t("dJ3e"),c=t("TYT/"),s=t("o0su"),u=t("Sit1"),a=(t("v4c/"),t("lI5s")),l=t("J7TK"),d=t("7/2L"),p=t("ooe5"),h=t("pugT"),f=t("HZvm"),b=t("WdUJ"),g=t("2K9a"),y=t("Seeo"),m=t("oqlj"),v=t("jxJY"),w=t("6onV"),I=t("xMyE"),z=t("VnD/"),q=t("4OP8"),k=t("RQUG"),x=t("AzBT"),C=t("QJY3"),O=t("Sh7c"),S=t("MySR"),T=t("67Y/"),M=(t("Xx9Q"),t("ncJJ"));function _(e,n){if(1&e&&(c.Zb(0,"span",7),c.Mc(1," example: "),c.Zb(2,"span",8),c.Zb(3,"code"),c.Mc(4),c.Yb(),c.Yb(),c.Yb()),2&e){var t=c.kc(2);c.Cb(4),c.Nc(t.section.example)}}function Q(e,n){if(1&e&&(c.Xb(0),c.Zb(1,"div",1),c.Zb(2,"div",2),c.Mc(3),c.Yb(),c.Zb(4,"div",3),c.Zb(5,"span",4),c.Mc(6),c.Yb(),c.Kc(7,_,5,1,"span",5),c.Yb(),c.Yb(),c.Zb(8,"div",6),c.qc(9),c.Yb(),c.Wb()),2&e){var t=c.kc();c.Cb(3),c.Nc(t.section.heading),c.Cb(3),c.Oc(" ",t.section.subheading," "),c.Cb(1),c.sc("ngIf",!!t.section.example)}}var P=["*"],D=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c.Nb({type:e,selectors:[["st-autocomplete-section"]],inputs:{section:"section"},ngContentSelectors:P,decls:1,vars:1,consts:[[4,"ngIf"],["id","section-header"],["id","heading",1,"child"],["id","detail",1,"child"],["nz-typography","","nzType","secondary","id","subheading"],["nz-typography","","nzType","secondary","id","example",4,"ngIf"],["id","options"],["nz-typography","","nzType","secondary","id","example"],["nz-typography",""]],template:function(e,n){1&e&&(c.rc(),c.Kc(0,Q,10,3,"ng-container",0)),2&e&&c.sc("ngIf",!!n.section)},directives:[i.t,M.c],styles:["#section-header[_ngcontent-%COMP%]{height:47px;width:calc(100% - 2px);border-radius:2px;border:1px solid rgba(119,136,153,.4);background-color:rgba(119,136,153,.3);overflow-x:hidden;white-space:nowrap;overflow-y:hidden;padding:3px 6px 0;margin:1px}.child[_ngcontent-%COMP%]{display:block;text-overflow:ellipsis}#heading[_ngcontent-%COMP%]{height:20px;line-height:20px;font-weight:700;font-size:11.5pt}#detail[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;flex-wrap:nowrap;height:20px;line-height:18px;font-size:10pt}#subheading[_ngcontent-%COMP%]{-webkit-box-flex:2;flex-grow:2}#example[_ngcontent-%COMP%]{right:0;text-overflow:ellipsis}#options[_ngcontent-%COMP%]{margin:8px 11px}code[_ngcontent-%COMP%]{font-size:9.5pt}option[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),e}(),Y=function(){function e(){}return e.prototype.transform=function(e){return!!e&&"string"!=typeof e},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"isRegexpToken",type:e,pure:!0}),e}();function Z(e,n){if(1&e&&(c.Xb(0),c.Zb(1,"div",1),c.Zb(2,"span",2),c.lc(3,"isRegexpToken"),c.Mc(4),c.Yb(),c.Zb(5,"span",3),c.Mc(6),c.Yb(),c.Yb(),c.Wb()),2&e){var t=c.kc();c.Cb(1),c.Jb("highlight",t.highlight),c.Cb(1),c.Jb("regexp",c.mc(3,6,t.option.token)),c.Cb(2),c.Nc(t.option.match.cleanToken),c.Cb(2),c.Nc(t.option.explanation)}}var E=function(){function e(){this.highlight=!1}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c.Nb({type:e,selectors:[["st-autocomplete-option"]],inputs:{option:"option",highlight:"highlight"},decls:1,vars:1,consts:[[4,"ngIf"],["id","option"],["id","token"],["id","explanation"]],template:function(e,n){1&e&&c.Kc(0,Z,7,8,"ng-container",0),2&e&&c.sc("ngIf",!!n.option)},directives:[i.t],pipes:[Y],styles:["#option[_ngcontent-%COMP%]{height:28px;line-height:28px;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;flex-wrap:nowrap;overflow-x:hidden;white-space:nowrap;font-family:Montserrat;font-size:10.5pt;padding:0 4px;-webkit-transition:background-color .1s;transition:background-color .1s}#token[_ngcontent-%COMP%]{-webkit-box-flex:2;flex-grow:2}#explanation[_ngcontent-%COMP%], #token[_ngcontent-%COMP%]{text-overflow:ellipsis}#explanation[_ngcontent-%COMP%]{right:0;font-family:Assistant;font-size:10pt;font-style:italic}.highlight[_ngcontent-%COMP%]{background-color:rgba(119,136,153,.07);border-radius:2px;color:#161616}.regexp[_ngcontent-%COMP%]{font-style:italic}"],changeDetection:0}),e}(),j=function(){function e(){}return e.prototype.transform=function(e,n){var t,i;return 2===(null===(t=e)||void 0===t?void 0:t.length)&&2===(null===(i=n)||void 0===i?void 0:i.length)&&e[0]===n[0]&&e[1]===n[1]},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"highlightOption",type:e,pure:!0}),e}(),A=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,o,r=t.call(e),c=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)c.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return c},B=function(e,n){return[e,n]};function U(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-autocomplete-option",4),c.hc("click",(function(e){c.Bc(t);var i=n.$implicit;return c.kc(2).selectOption.next(i.match)}))("mouseover",(function(e){c.Bc(t);var i=n.index,o=c.kc().index;return c.kc().highlightCoords=[o,i]}))("mouseleave",(function(e){return c.Bc(t),c.kc(2).highlightCoords=void 0})),c.lc(1,"highlightOption"),c.Yb()}if(2&e){var i=n.$implicit,o=n.index,r=c.kc().index,s=c.kc();c.sc("id",r+"_"+o)("highlight",c.nc(1,3,c.xc(6,B,r,o),s.highlightCoords))("option",i)}}function N(e,n){if(1&e&&(c.Zb(0,"st-autocomplete-section",2),c.Kc(1,U,2,9,"st-autocomplete-option",3),c.Yb()),2&e){var t=n.$implicit;c.sc("section",t),c.Cb(1),c.sc("ngForOf",t.matches)}}var K=function(){function e(e,n){this.events=e,this.cdr=n,this._subs=new h.a,this.visible=!1,this.sections=[],this.selectOption=new c.n}return e.prototype.ngOnInit=function(){var e=this;this._subs.add(this.events.onkeydown$.pipe(Object(z.a)((function(e){return"ArrowUp"===e.key||"ArrowDown"===e.key})),Object(T.a)((function(e){return"ArrowUp"===e.key?-1:1}))).subscribe(this._highlightUpOrDown.bind(this))).add(this.events.onkeydown$.pipe(Object(z.a)((function(e){return"Enter"===e.key&&!e.ctrlKey}))).subscribe((function(){var n,t,i,o,r=A(e.highlightCoords,2),c=null===(o=null===(i=null===(t=null===(n=e.sections)||void 0===n?void 0:n[r[0]])||void 0===t?void 0:t.matches)||void 0===i?void 0:i[r[1]])||void 0===o?void 0:o.match;c&&(e.selectOption.next(c),e.highlightCoords=[0,0])})))},e.prototype._highlightUpOrDown=function(e){var n;if(this.visible&&this.sections){var t=A(this.highlightCoords||[0,-1],2),i=t[0],o=t[1];if(!this.sections[i].matches[o+=e]){if((i+=e)<0||i===this.sections.length)return;o=1===e?0:this.sections[i].matches.length-1}this.highlightCoords=[i,o],null===(n=document.getElementById(i+"_"+o))||void 0===n||n.scrollIntoView({block:"nearest"}),this.cdr.detectChanges()}},e.prototype.ngOnDestroy=function(){this._subs.unsubscribe()},e.\u0275fac=function(n){return new(n||e)(c.Tb(s.a),c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-autocomplete-viewer"]],inputs:{visible:"visible",sections:"sections"},outputs:{selectOption:"selectOption"},decls:2,vars:1,consts:[["id","container"],[3,"section",4,"ngFor","ngForOf"],[3,"section"],[3,"id","highlight","option","click","mouseover","mouseleave",4,"ngFor","ngForOf"],[3,"id","highlight","option","click","mouseover","mouseleave"]],template:function(e,n){1&e&&(c.Zb(0,"div",0),c.Kc(1,N,2,2,"st-autocomplete-section",1),c.Yb()),2&e&&(c.Cb(1),c.sc("ngForOf",n.sections))},directives:[i.s,D,E],pipes:[j],styles:["[_nghost-%COMP%]{position:absolute;max-height:380px;overflow-y:hidden;overflow-x:hidden;box-sizing:border-box;padding:2px}#container[_ngcontent-%COMP%]{background-color:rgba(245,252,255,.45);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);max-height:350px;margin-bottom:30px;margin-left:15px;width:calc(100% - 30px);box-shadow:2px 5px 20px silver;overflow-y:auto}"],changeDetection:0}),e}(),L=["searchInput"];function V(e,n){if(1&e){var t=c.ac();c.Zb(0,"button",6),c.hc("click",(function(e){return c.Bc(t),c.kc().search()})),c.Mc(1," Search "),c.Yb()}if(2&e){var i=c.kc();c.sc("disabled",i.error&&i.error.blocking)}}function R(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-autocomplete-viewer",7),c.hc("selectOption",(function(e){return c.Bc(t),c.kc().selectOption(e)})),c.Yb()}if(2&e){var i=c.kc();c.sc("visible",i.showAutocomplete)("sections",i.currentOptions)}}var F=function(){function e(e,n,t){var i=this;this.autocomplete=e,this.events=n,this.cdr=t,this._subs=new h.a,this.query="",this.onSearch=new c.n,this.onInput=new c.n,this.showAutocomplete=!0,this._subs.add(e.prediction$.pipe(Object(I.a)((function(e){e.forEach((function(e){return e.matches.sort((function(e,n){return n.match.score-e.match.score}))})),e.sort((function(e,n){var t,i;return(null===(t=n.matches)||void 0===t?void 0:t[0].match.score)-(null===(i=e.matches)||void 0===i?void 0:i[0].match.score)}))}))).subscribe((function(e){i.currentOptions=e,i.cdr.detectChanges()}))).add(n.onclick$.subscribe(this._hideAutocomplete.bind(this))).add(n.onwheel$.pipe(Object(z.a)((function(){return i.showAutocomplete}))).subscribe(this._hideAutocomplete.bind(this))).add(n.onkeydown$.subscribe((function(e){if("ArrowUp"===e.key||"ArrowDown"===e.key)return e.preventDefault();"Enter"===e.key&&e.ctrlKey&&i.search()})))}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.inputRef.nativeElement.focus()},e.prototype.input=function(e){var n,t,i,o,r;if("string"!=typeof e){if("Enter"===(null===(n=e)||void 0===n?void 0:n.key)||"Control"===(null===(t=e)||void 0===t?void 0:t.key))return;r=(null===(i=e)||void 0===i?void 0:i.target.value)||"",["Backspace","ArrowLeft","ArrowRight"].includes(null===(o=e)||void 0===o?void 0:o.key)&&(this.currentOptions=void 0)}else r=e;this.showAutocomplete=!0,this.onInput.next(r),this.requestPrediction(r)},e.prototype.requestPrediction=function(e){this.autocomplete.next({query:e,caretPosition:this.inputRef.nativeElement.selectionStart,relevantSections:this.currentOptions})},e.prototype.selectOption=function(e){var n,t=this,i=e.sentence;this.currentOptions=void 0,this.inputRef.nativeElement.focus(),setTimeout((function(){t.inputRef.nativeElement.setSelectionRange(i.length+1,i.length+1),t.requestPrediction(t.query)}),30);var o=null===(n=this.query)||void 0===n?void 0:n.slice(this.inputRef.nativeElement.selectionStart+1);"string"==typeof o&&this.input(i+" "+o)},e.prototype.search=function(){var e;this.showAutocomplete=!1,this.currentOptions=void 0,this.onSearch.next(null===(e=this.questionInEdit)||void 0===e?void 0:e.id)},e.prototype.ngOnDestroy=function(){this._subs.unsubscribe()},e.prototype._hideAutocomplete=function(e){var n,t;if(this.showAutocomplete){for(var i=e.target,o=[];i;){if((null===(n=i.tagName)||void 0===n?void 0:n.startsWith("ST-AUTOCOMPLETE"))||(null===(t=i.tagName)||void 0===t?void 0:t.startsWith("ST-SEARCH-BAR")))return;o.unshift(i),i=i.parentNode}this.showAutocomplete=!1,this.cdr.detectChanges()}},e.\u0275fac=function(n){return new(n||e)(c.Tb(q.a),c.Tb(s.a),c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-search-bar"]],viewQuery:function(e,n){var t;1&e&&c.Rc(L,!0),2&e&&c.zc(t=c.ic())&&(n.inputRef=t.first)},inputs:{query:"query",questionInEdit:"questionInEdit",error:"error"},outputs:{onSearch:"onSearch",onInput:"onInput"},decls:7,vars:4,consts:[["id","container"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","Search your Starling graph...",3,"ngModel","disabled","keyup","ngModelChange","click"],["searchInput",""],["suffixIconButton",""],[3,"visible","sections","selectOption",4,"ngIf"],["nz-button","","nzType","primary","nzSearch","","title","Ctrl+Enter to search",3,"disabled","click"],[3,"visible","sections","selectOption"]],template:function(e,n){if(1&e&&(c.Zb(0,"div",0),c.Zb(1,"nz-input-group",1),c.Zb(2,"input",2,3),c.hc("keyup",(function(e){return n.input(e)}))("ngModelChange",(function(e){return n.query=e}))("click",(function(e){return n.input(n.query)})),c.Yb(),c.Yb(),c.Kc(4,V,2,1,"ng-template",null,4,c.Lc),c.Kc(6,R,1,2,"st-autocomplete-viewer",5),c.Yb()),2&e){var t=c.Ac(5);c.Cb(1),c.sc("nzAddOnAfter",t),c.Cb(1),c.sc("ngModel",n.query)("disabled",n.error&&n.error.blocking),c.Cb(4),c.sc("ngIf",n.showAutocomplete&&!(null!=n.error&&n.error.blocking))}},directives:[k.c,k.b,C.c,C.m,C.p,i.t,x.a,O.a,S.a,K],styles:["[_nghost-%COMP%]{position:absolute;left:0;height:100%;width:100%;right:0;overflow-y:hidden;overflow-x:hidden;box-sizing:border-box}#container[_ngcontent-%COMP%]{padding-top:15px;height:60px;display:-webkit-box;display:flex;-webkit-box-pack:space-evenly;justify-content:space-evenly;line-height:60px;border-bottom:1px solid #e6e6e6}#new-search[_ngcontent-%COMP%], nz-input-group[_ngcontent-%COMP%]{margin-left:10px}nz-input-group[_ngcontent-%COMP%]{width:90%;flex-shrink:0}input[_ngcontent-%COMP%]{font-family:Montserrat;border:1px solid #b8ccf1}st-autocomplete-viewer[_ngcontent-%COMP%]{margin-left:5px;width:calc(90% + 30px);flex-shrink:0;z-index:1000;top:45px}button[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0}),e}(),$=t("s+w9"),W=t("vjwB"),J=t("looV"),H=t("j+pk"),G=t("s/JR"),X=t("G6CK"),ee=t("RjcN"),ne=function(){function e(){}return e.prototype.transform=function(e){return e?Object(g.b)(e):null},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"connectByToSetOp",type:e,pure:!0}),e}(),te=function(){function e(){}return e.prototype.transform=function(e,n){return e?"assets/icons/"+e+(n===e?"-active":"")+"-32.png":null},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"setOperatorIcon",type:e,pure:!0}),e}();function ie(e,n){if(1&e&&(c.Zb(0,"p"),c.Ub(1,"nz-progress",6),c.Zb(2,"span",7),c.Mc(3),c.Yb(),c.Ub(4,"br"),c.Yb()),2&e){var t=n.ngVar,i=c.kc();c.Cb(1),c.sc("nzPercent",t)("nzWidth",16)("nzStrokeWidth",12)("nzShowInfo",!1)("title","Loaded "+t+"% of question"),c.Cb(2),c.Oc("Total size: ",i.question.size,"")}}function oe(e,n){if(1&e){var t=c.ac();c.Zb(0,"nz-radio-group",8),c.hc("ngModelChange",(function(e){return c.Bc(t),c.kc().changeOperator(e)})),c.lc(1,"connectByToSetOp"),c.Zb(2,"label",9),c.Ub(3,"img",10),c.lc(4,"setOperatorIcon"),c.lc(5,"connectByToSetOp"),c.Yb(),c.Zb(6,"label",11),c.Ub(7,"img",10),c.lc(8,"setOperatorIcon"),c.lc(9,"connectByToSetOp"),c.Yb(),c.Zb(10,"label",12),c.Ub(11,"img",10),c.lc(12,"setOperatorIcon"),c.lc(13,"connectByToSetOp"),c.Yb(),c.Zb(14,"label",13),c.Ub(15,"img",10),c.lc(16,"setOperatorIcon"),c.lc(17,"connectByToSetOp"),c.Yb(),c.Yb()}if(2&e){var i=c.kc();c.sc("ngModel",c.mc(1,6,i.question.connectBy))("nzSize","small"),c.Cb(3),c.sc("src",c.nc(4,8,"union",c.mc(5,11,i.question.connectBy)),c.Dc),c.Cb(4),c.sc("src",c.nc(8,13,"intersection",c.mc(9,16,i.question.connectBy)),c.Dc),c.Cb(4),c.sc("src",c.nc(12,18,"left-difference",c.mc(13,21,i.question.connectBy)),c.Dc),c.Cb(4),c.sc("src",c.nc(16,23,"outersection",c.mc(17,26,i.question.connectBy)),c.Dc)}}function re(e,n){1&e&&(c.Zb(0,"nz-comment-action"),c.Ub(1,"i",19),c.Yb())}function ce(e,n){if(1&e){var t=c.ac();c.Zb(0,"nz-comment-action"),c.Zb(1,"span",20),c.hc("click",(function(e){c.Bc(t);var n=c.kc(2);return n.onEdit.next(n.question.id)})),c.Ub(2,"i",21),c.Mc(3," Edit"),c.Yb(),c.Yb()}}function se(e,n){if(1&e){var t=c.ac();c.Zb(0,"nz-comment-action"),c.Zb(1,"span",22),c.hc("click",(function(e){c.Bc(t);var n=c.kc(2);return n.onDelete.next(n.question.id)})),c.Ub(2,"i",23),c.Mc(3," Delete"),c.Yb(),c.Yb()}}function ue(e,n){if(1&e){var t=c.ac();c.Xb(0),c.Kc(1,re,2,0,"nz-comment-action",14),c.Kc(2,ce,4,0,"nz-comment-action",14),c.Zb(3,"nz-comment-action"),c.Zb(4,"span",15),c.hc("mousedown",(function(e){c.Bc(t);var n=c.kc();return n.onReload.next(n.question.id)})),c.Ub(5,"i",16),c.Mc(6," Reload"),c.Yb(),c.Yb(),c.Zb(7,"nz-comment-action"),c.Zb(8,"span",17),c.hc("click",(function(e){c.Bc(t);var n=c.kc();return n.onInsert.next(n.question.id)})),c.Ub(9,"i",18),c.Mc(10," Insert"),c.Yb(),c.Yb(),c.Kc(11,se,4,0,"nz-comment-action",14),c.Wb()}if(2&e){var i=c.kc();c.Cb(1),c.sc("ngIf",null==i.question?null:i.question.protected),c.Cb(1),c.sc("ngIf",!(null!=i.question&&i.question.protected)),c.Cb(9),c.sc("ngIf",!(null!=i.question&&i.question.protected))}}function ae(e,n){if(1&e){var t=c.ac();c.Zb(0,"nz-comment-action"),c.Zb(1,"span",24),c.hc("click",(function(e){return c.Bc(t),c.kc().onDelete.next()})),c.Ub(2,"i",23),c.Mc(3," Close"),c.Yb(),c.Yb()}}function le(e,n){1&e&&(c.Zb(0,"span",28),c.Mc(1,"|"),c.Yb())}function de(e,n){if(1&e&&(c.Zb(0,"div",25),c.Zb(1,"span",26),c.Zb(2,"code"),c.Mc(3),c.Kc(4,le,2,0,"span",27),c.Yb(),c.Yb(),c.Yb()),2&e){var t=c.kc();c.Cb(3),c.Nc(t.question.query),c.Cb(1),c.sc("ngIf",t.rank===(null==t.selectedInquiry?null:t.selectedInquiry.questionInEditIdx))}}var pe=function(){function e(e){this.cdr=e,this.onChangeOperator=new c.n,this.onEdit=new c.n,this.onReload=new c.n,this.onInsert=new c.n,this.onDelete=new c.n}return e.prototype.ngOnInit=function(){var e=this;setTimeout((function(){e.cdr.detectChanges()}),100)},e.prototype.ngAfterViewInit=function(){},e.prototype.changeOperator=function(e){var n=this;this.onChangeOperator.next({op:e,questionId:this.question.id}),setTimeout((function(){n.cdr.detectChanges()}),100)},e.\u0275fac=function(n){return new(n||e)(c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-question"]],inputs:{question:"question",selectedQuestion:"selectedQuestion",rank:"rank",selectedInquiry:"selectedInquiry"},outputs:{onChangeOperator:"onChangeOperator",onEdit:"onEdit",onReload:"onReload",onInsert:"onInsert",onDelete:"onDelete"},decls:11,vars:7,consts:[[3,"nzAuthor"],[4,"ngVar"],[3,"ngModel","nzSize","ngModelChange",4,"ngIf"],[4,"ngIf","ngIfElse"],["inEdit",""],["query",""],["nzType","circle","nzStrokeColor","#83b5ff",3,"nzPercent","nzWidth","nzStrokeWidth","nzShowInfo","title"],["nz-typography","","nzType","secondary",2,"margin-left","5px"],[3,"ngModel","nzSize","ngModelChange"],["nz-radio-button","","nzValue","union","title","Merge previous and current search"],[3,"src"],["nz-radio-button","","nzValue","intersection","title","What is common between previous and current search"],["nz-radio-button","","nzValue","left-difference","title","Subtract current search from previous search"],["nz-radio-button","","nzValue","outersection","title","What previous and current search do not have in common"],[4,"ngIf"],["title","Reload this question",3,"mousedown"],["nz-icon","","nzType","reload","nzTheme","outline"],["title","Insert new question below",3,"click"],["nz-icon","","nzType","enter","nzTheme","outline"],["nz-icon","","nzType","lock","nzTheme","twotone","title","Question locked","nzTwotoneColor","gray",2,"font-size","10pt"],["title","Edit this question",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["title","Delete this question",3,"click"],["nz-icon","","nzType","close","nzTheme","outline"],["title","Close this question",3,"click"],["id","query"],["nz-typography",""],["class","blink","nz-typography","","nzDisabled","",4,"ngIf"],["nz-typography","","nzDisabled","",1,"blink"]],template:function(e,n){if(1&e&&(c.Zb(0,"nz-comment",0),c.Zb(1,"nz-comment-content"),c.Xb(2),c.Kc(3,ie,5,6,"p",1),c.lc(4,"readQuestionPairsPercent"),c.Wb(),c.Kc(5,oe,18,28,"nz-radio-group",2),c.Yb(),c.Kc(6,ue,12,3,"ng-container",3),c.Kc(7,ae,4,0,"ng-template",null,4,c.Lc),c.Yb(),c.Kc(9,de,5,2,"ng-template",null,5,c.Lc)),2&e){var t=c.Ac(8),i=c.Ac(10);c.sc("nzAuthor",i),c.Cb(3),c.sc("ngVar",c.mc(4,5,n.question)),c.Cb(2),c.sc("ngIf",0!==n.rank),c.Cb(1),c.sc("ngIf",!(null!=n.question&&n.question.inEdit))("ngIfElse",t)}},directives:[W.d,W.e,G.a,i.t,J.a,M.c,H.c,C.m,C.p,H.b,H.a,W.a,X.a,S.a],pipes:[ee.a,ne,te],styles:["img[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);transform:translateY(-1px)}#query[_ngcontent-%COMP%]{font-family:Montserrat;font-weight:600;font-size:11pt}nz-comment[_ngcontent-%COMP%]{-webkit-transform:translateY(-13px);transform:translateY(-13px);border:1px solid #eee;margin-top:7px}.blink[_ngcontent-%COMP%]{-webkit-animation:blink-animation 1s steps(5,start) infinite;animation:blink-animation 1s steps(5,start) infinite}@keyframes blink-animation{to{visibility:hidden}}@-webkit-keyframes blink-animation{to{visibility:hidden}}nz-radio-group[_ngcontent-%COMP%]{margin-top:8px}nz-comment-content[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),e}();function he(e,n){1&e&&c.Ub(0,"i",12),2&e&&c.sc("nzTwotoneColor","#c72626")}function fe(e,n){1&e&&c.Ub(0,"i",14)}function be(e,n){if(1&e&&c.Kc(0,fe,1,0,"i",13),2&e){c.kc();var t=c.Ac(4),i=c.kc().index,o=c.kc(2);c.sc("ngIf",i===(null==o.selectedInquiry?null:o.selectedInquiry.questionInEditIdx))("ngIfElse",t)}}function ge(e,n){1&e&&c.Ub(0,"i",16)}function ye(e,n){if(1&e&&c.Kc(0,ge,1,0,"i",15),2&e){c.kc();var t=c.Ac(6),i=c.kc().index,o=c.kc(2);c.sc("ngIf",i===(null==o.selectedInquiry?null:o.selectedInquiry.selectedQuestionIdx))("ngIfElse",t)}}function me(e,n){1&e&&c.Ub(0,"i",18)}function ve(e,n){if(1&e&&c.Kc(0,me,1,0,"i",17),2&e){c.kc();var t=c.Ac(8),i=c.kc().$implicit;c.sc("ngIf",i.size>=0)("ngIfElse",t)}}function we(e,n){1&e&&c.Ub(0,"i",19),2&e&&c.sc("nzTwotoneColor","#ff8c00")}function Ie(e,n){if(1&e&&(c.Kc(0,he,1,1,"i",7),c.Kc(1,be,1,2,"ng-template",null,8,c.Lc),c.Kc(3,ye,1,2,"ng-template",null,9,c.Lc),c.Kc(5,ve,1,2,"ng-template",null,10,c.Lc),c.Kc(7,we,1,1,"ng-template",null,11,c.Lc)),2&e){var t=c.Ac(2),i=c.kc().$implicit,o=c.kc(2);c.sc("ngIf",i.id&&i.id===(null==o.error?null:o.error.questionId))("ngIfElse",t)}}function ze(e,n){if(1&e){var t=c.ac();c.Zb(0,"nz-timeline-item",4),c.Zb(1,"st-question",5),c.hc("onChangeOperator",(function(e){return c.Bc(t),c.kc(2).onChangeOperator.next(e)}))("click",(function(e){c.Bc(t);var i=n.$implicit;return c.kc(2)._selectQuestion(i)}))("onEdit",(function(e){return c.Bc(t),c.kc(2).editQuestion.next(e)}))("onReload",(function(e){return c.Bc(t),c.kc(2).reloadQuestion.next(e)}))("onInsert",(function(e){return c.Bc(t),c.kc(2).insertQuestion.next(e)}))("onDelete",(function(e){return c.Bc(t),c.kc(2).deleteQuestion.next(e)})),c.Yb(),c.Kc(2,Ie,9,2,"ng-template",null,6,c.Lc),c.Yb()}if(2&e){var i=n.$implicit,o=n.index,r=c.Ac(3),s=c.kc(2);c.sc("nzDot",r),c.Cb(1),c.Jb("reading",o===(null==s.selectedInquiry?null:s.selectedInquiry.selectedQuestionIdx)&&o!==(null==s.selectedInquiry?null:s.selectedInquiry.questionInEditIdx))("inEdit",o===(null==s.selectedInquiry?null:s.selectedInquiry.questionInEditIdx)),c.sc("id","question_"+o)("rank",o)("question",i)("selectedQuestion",s.selectedQuestion)("selectedInquiry",s.selectedInquiry)}}var qe=function(){return[]};function ke(e,n){if(1&e&&(c.Zb(0,"nz-timeline"),c.Kc(1,ze,4,10,"nz-timeline-item",3),c.Yb()),2&e){var t=c.kc();c.Cb(1),c.sc("ngForOf",t.questionList||c.vc(1,qe))}}function xe(e,n){1&e&&c.Ub(0,"div",20)}var Ce=function(){function e(e){this.store=e,this._subscriptions=new h.a,this.onChangeOperator=new c.n,this.selectQuestion=new c.n,this.editQuestion=new c.n,this.reloadQuestion=new c.n,this.insertQuestion=new c.n,this.deleteQuestion=new c.n}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this._subscriptions.add(this.store.select(v.i).pipe(Object(z.a)((function(e){return!!e}))).subscribe((function(e){var n=document.getElementById("question_"+e.questionInEditIdx);n&&n.scrollIntoView({behavior:"smooth"})})))},e.prototype._selectQuestion=function(e){e.id&&this.selectQuestion.next(e.id)},e.prototype.ngOnDestroy=function(){this._subscriptions.unsubscribe()},e.\u0275fac=function(n){return new(n||e)(c.Tb(w.b))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-inquiry-questions"]],inputs:{selectedInquiry:"selectedInquiry",questionList:"questionList",selectedQuestion:"selectedQuestion",error:"error",tabIdx:"tabIdx"},outputs:{onChangeOperator:"onChangeOperator",selectQuestion:"selectQuestion",editQuestion:"editQuestion",reloadQuestion:"reloadQuestion",insertQuestion:"insertQuestion",deleteQuestion:"deleteQuestion"},decls:3,vars:2,consts:[["id","container"],[4,"ngIf"],["id","overlay",4,"ngIf"],[3,"nzDot",4,"ngFor","ngForOf"],[3,"nzDot"],[3,"id","rank","question","selectedQuestion","selectedInquiry","onChangeOperator","click","onEdit","onReload","onInsert","onDelete"],["questionDot",""],["id","error-dot","nz-icon","","nzType","warning","nzTheme","twotone","title","Question resolved to error",3,"nzTwotoneColor",4,"ngIf","ngIfElse"],["maybeInEdit",""],["notInEdit",""],["notSelected",""],["pending",""],["id","error-dot","nz-icon","","nzType","warning","nzTheme","twotone","title","Question resolved to error",3,"nzTwotoneColor"],["id","selected-dot","nz-icon","","nzType","right-square","title","Question currently in edit","nzTheme","outline",4,"ngIf","ngIfElse"],["id","selected-dot","nz-icon","","nzType","right-square","title","Question currently in edit","nzTheme","outline"],["id","read-dot","nz-icon","","nzType","read","title","Currently-viewed question","nzTheme","outline",4,"ngIf","ngIfElse"],["id","read-dot","nz-icon","","nzType","read","title","Currently-viewed question","nzTheme","outline"],["nz-icon","","nzType","check-circle","title","Question processed","nzTheme","twotone",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check-circle","title","Question processed","nzTheme","twotone"],["nz-icon","","nzType","pause-circle","nzTheme","twotone","title","Question pending processing",3,"nzTwotoneColor"],["id","overlay"]],template:function(e,n){1&e&&(c.Zb(0,"div",0),c.Kc(1,ke,2,2,"nz-timeline",1),c.Yb(),c.Kc(2,xe,1,0,"div",2)),2&e&&(c.Cb(1),c.sc("ngIf",null==n.questionList?null:n.questionList.length),c.Cb(1),c.sc("ngIf",!1))},directives:[i.t,$.a,i.s,$.b,pe,X.a,S.a],styles:["[_nghost-%COMP%]{top:60px;height:calc(100% - 60px);width:100%;right:0;overflow-y:hidden;overflow-x:hidden;box-sizing:border-box}#overlay[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute;left:0}#overlay[_ngcontent-%COMP%]{background-color:hsla(0,0%,94.1%,.2);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);top:0;z-index:10}#container[_ngcontent-%COMP%], #overlay[_ngcontent-%COMP%]{height:100%;width:320px}#container[_ngcontent-%COMP%]{border-right:1px solid #e6e6e6;padding-left:10px;padding-right:0;padding-top:20px;overflow-y:scroll;direction:rtl}#container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}#container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}#container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#a0a0a0;border-radius:20px;border:3px solid #ebebeb}#container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#919191}nz-timeline[_ngcontent-%COMP%]{direction:ltr}#read-dot[_ngcontent-%COMP%]{color:#2fb66c}st-question[_ngcontent-%COMP%]{cursor:pointer}.reading[_ngcontent-%COMP%]{background-color:rgba(215,247,227,.4)}.inEdit[_ngcontent-%COMP%]{background-color:rgba(215,237,247,.4)}"],changeDetection:0}),e}(),Oe=t("BLeH"),Se=function(){function e(){}return e.prototype.transform=function(e){return e?e.replace(/\\n+|\\r+/g,"<br>").replace(/\\"/g,'"'):""},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"prettyErr",type:e,pure:!0}),e}();function Te(e,n){if(1&e&&(c.Ub(0,"p",9),c.lc(1,"prettyErr"),c.lc(2,"json")),2&e){var t=c.kc(2);c.sc("innerHTML",c.mc(1,1,c.mc(2,3,null==t._error.content?null:null==t._error.content.payload?null:null==t._error.content.payload.jse_cause?null:t._error.content.payload.jse_cause.message)),c.Cc)}}function Me(e,n){if(1&e&&(c.Zb(0,"p",10),c.Mc(1),c.lc(2,"json"),c.Yb()),2&e){var t=c.kc(2);c.Cb(1),c.Oc(" ",c.mc(2,1,null==t._error.content?null:t._error.content.payload)," ")}}function _e(e,n){if(1&e&&(c.Zb(0,"div",5),c.Zb(1,"div",6),c.Kc(2,Te,3,5,"p",7),c.Kc(3,Me,3,3,"ng-template",null,8,c.Lc),c.Yb(),c.Yb()),2&e){var t=c.Ac(4),i=c.kc();c.Cb(2),c.sc("ngIf",null==i._error.content?null:null==i._error.content.payload?null:null==i._error.content.payload.jse_cause?null:i._error.content.payload.jse_cause.message)("ngIfElse",t)}}function Qe(e,n){if(1&e){var t=c.ac();c.Zb(0,"button",11),c.hc("click",(function(e){c.Bc(t);var n=c.kc();return n.adjustQuestion.next(n._error.questionId)})),c.Mc(1,"Adjust"),c.Yb()}}var Pe=function(){function e(){this.closeError=new c.n,this.adjustQuestion=new c.n}return Object.defineProperty(e.prototype,"error",{set:function(e){this._error=e,this.readError=e.errType===m.a.ReadError},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c.Nb({type:e,selectors:[["st-search-error"]],inputs:{error:"error"},outputs:{closeError:"closeError",adjustQuestion:"adjustQuestion"},decls:5,vars:4,consts:[["id","container"],["nzStatus","error",3,"nzTitle","nzSubTitle"],["nz-result-content","",4,"ngIf"],["nz-result-extra",""],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-result-content",""],[1,"desc"],["nz-paragraph","",3,"innerHTML",4,"ngIf","ngIfElse"],["noMessage",""],["nz-paragraph","",3,"innerHTML"],["nz-paragraph",""],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){1&e&&(c.Zb(0,"div",0),c.Zb(1,"nz-result",1),c.Kc(2,_e,5,2,"div",2),c.Zb(3,"div",3),c.Kc(4,Qe,2,0,"button",4),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Cb(1),c.sc("nzTitle",n._error.title)("nzSubTitle",n._error.message),c.Cb(1),c.sc("ngIf",n._error.content),c.Cb(2),c.sc("ngIf",n.readError))},directives:[Oe.a,i.t,Oe.c,Oe.b,M.c,x.a,O.a,S.a],pipes:[Se,i.k],styles:["#container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),e}(),De=t("w1ql"),Ye=t("6DJr"),Ze=t("pdUi"),Ee=t("7dWL"),je=t("niiR"),Ae=function(){function e(){}return e.prototype.transform=function(e,n){var t,i,o;return!!((null===(t=e)||void 0===t?void 0:t.length)&&(null===(i=n)||void 0===i?void 0:i.length))&&(null===(o=e[0])||void 0===o?void 0:o.id)===n[0].id},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"highlightNode",type:e,pure:!0}),e}(),Be=function(){return{marginTop:"50px"}};function Ue(e,n){1&e&&c.Ub(0,"nz-empty",4),2&e&&c.sc("ngStyle",c.vc(2,Be))("nzNotFoundContent","No data in result")}function Ne(e,n){if(1&e){var t=c.ac();c.Xb(0),c.Zb(1,"st-graph-element-log-list-item",5),c.hc("select",(function(e){return c.Bc(t),c.kc().selectItem.next(e)})),c.lc(2,"highlightNode"),c.Yb(),c.Wb()}if(2&e){var i=n.$implicit,o=c.kc();c.Cb(1),c.sc("item",i)("highlight",c.nc(2,2,i,o.selectedNode))}}var Ke=function(){function e(e,n,t){this.ds=e,this.store$=n,this.action$=t,this.subscriptions=new h.a,this.selectItem=new c.n}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.subscriptions.add(this.action$.pipe(Object(De.d)(y.c)).subscribe((function(){return e.list.elementRef.nativeElement.scrollTop=0}))).add(this.store$.select(v.e).subscribe((function(){return e.store$.dispatch(Object(y.y)(e.list.getRenderedRange()))})))},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.\u0275fac=function(n){return new(n||e)(c.Tb(Ye.a),c.Tb(w.b),c.Tb(De.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-inquiry-results"]],viewQuery:function(e,n){var t;1&e&&c.Rc(Ze.c,!0),2&e&&c.zc(t=c.ic())&&(n.list=t.first)},inputs:{selectedNode:"selectedNode"},outputs:{selectItem:"selectItem"},features:[c.Bb([Ye.a])],decls:5,vars:4,consts:[["id","container"],["itemSize","70",1,"demo-infinite-container"],[3,"ngStyle","nzNotFoundContent",4,"ngIf"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"ngStyle","nzNotFoundContent"],[3,"item","highlight","select"]],template:function(e,n){if(1&e&&(c.Zb(0,"div",0),c.Zb(1,"cdk-virtual-scroll-viewport",1),c.Kc(2,Ue,1,3,"nz-empty",2),c.lc(3,"async"),c.Kc(4,Ne,3,5,"ng-container",3),c.Yb(),c.Yb()),2&e){var t,i=!(null!=(t=c.mc(3,2,n.ds.dataStream))&&t.length);c.Cb(2),c.sc("ngIf",i),c.Cb(2),c.sc("cdkVirtualForOf",n.ds)}},directives:[Ze.c,Ze.a,i.t,Ze.b,Ee.b,i.w,je.a],pipes:[i.b,Ae],styles:[".demo-infinite-container[_ngcontent-%COMP%]{top:0;height:100%;overflow-y:scroll;overflow-x:hidden}#container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),e}();function Le(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-search-error",6),c.hc("closeError",(function(e){return c.Bc(t),c.kc().closeError()}))("adjustQuestion",(function(e){return c.Bc(t),c.kc().editQuestion.next(e)})),c.Yb()}if(2&e){var i=c.kc();c.sc("error",i.error)}}function Ve(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-inquiry-results",7),c.hc("selectItem",(function(e){return c.Bc(t),c.kc().onSelectItem.next(e)})),c.Yb()}if(2&e){var i=c.kc();c.sc("selectedNode",i.selectedNode)}}var Re=function(){function e(e){this.cdr=e,this.onSearch=new c.n,this.onInput=new c.n,this.onChangeOperator=new c.n,this.selectQuestion=new c.n,this.onSelectItem=new c.n,this.editQuestion=new c.n,this.reloadQuestion=new c.n,this.insertQuestion=new c.n,this.deleteQuestion=new c.n}return e.prototype.ngOnInit=function(){},e.prototype.closeError=function(){this.error=void 0,this.cdr.detectChanges()},e.\u0275fac=function(n){return new(n||e)(c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-inquiry"]],inputs:{selectedInquiry:"selectedInquiry",selectedQuestion:"selectedQuestion",questionInEdit:"questionInEdit",questionList:"questionList",error:"error",selectedNode:"selectedNode"},outputs:{onSearch:"onSearch",onInput:"onInput",onChangeOperator:"onChangeOperator",selectQuestion:"selectQuestion",onSelectItem:"onSelectItem",editQuestion:"editQuestion",reloadQuestion:"reloadQuestion",insertQuestion:"insertQuestion",deleteQuestion:"deleteQuestion"},decls:7,vars:9,consts:[["id","container"],[3,"query","questionInEdit","error","onSearch","onInput"],[3,"error","selectedQuestion","selectedInquiry","questionList","onChangeOperator","selectQuestion","editQuestion","reloadQuestion","insertQuestion","deleteQuestion"],["id","results"],[3,"error","closeError","adjustQuestion",4,"ngIf","ngIfElse"],["noError",""],[3,"error","closeError","adjustQuestion"],[3,"selectedNode","selectItem"]],template:function(e,n){if(1&e&&(c.Zb(0,"div",0),c.Zb(1,"st-search-bar",1),c.hc("onSearch",(function(e){return n.onSearch.next(e)}))("onInput",(function(e){return n.onInput.next(e)})),c.Yb(),c.Zb(2,"st-inquiry-questions",2),c.hc("onChangeOperator",(function(e){return n.onChangeOperator.next(e)}))("selectQuestion",(function(e){return n.selectQuestion.next(e)}))("editQuestion",(function(e){return n.editQuestion.next(e)}))("reloadQuestion",(function(e){return n.reloadQuestion.next(e)}))("insertQuestion",(function(e){return n.insertQuestion.next(e)}))("deleteQuestion",(function(e){return n.deleteQuestion.next(e)})),c.Yb(),c.Zb(3,"div",3),c.Kc(4,Le,1,1,"st-search-error",4),c.Kc(5,Ve,1,1,"ng-template",null,5,c.Lc),c.Yb(),c.Yb()),2&e){var t=c.Ac(6);c.Cb(1),c.sc("query",null==n.questionInEdit?null:n.questionInEdit.query)("questionInEdit",n.questionInEdit)("error",n.error),c.Cb(1),c.sc("error",n.error)("selectedQuestion",n.selectedQuestion)("selectedInquiry",n.selectedInquiry)("questionList",n.questionList),c.Cb(2),c.sc("ngIf",(null==n.selectedQuestion?null:n.selectedQuestion.id)&&(null==n.error?null:n.error.questionId)===n.selectedQuestion.id||(null==n.error?null:n.error.blocking))("ngIfElse",t)}},directives:[F,Ce,i.t,Pe,Ke],styles:["[_nghost-%COMP%]{position:absolute;right:340px;height:100%;width:calc(100% - 340px);overflow-y:auto;overflow-x:hidden;box-sizing:border-box}#container[_ngcontent-%COMP%]{height:100%;border-right:1px solid #e6e6e6}#results[_ngcontent-%COMP%]{position:absolute;top:60px;left:320px;height:calc(100% - 60px);width:calc(100% - 320px);right:0;overflow-y:auto;overflow-x:hidden;box-sizing:border-box}"],changeDetection:0}),e}(),Fe=t("9jaY"),$e=function(){function e(){}return e.prototype.transform=function(e){var n;if(!(null===(n=e)||void 0===n?void 0:n.lastSavedQuestions))return!0;var t=e.lastSavedQuestions,i=e.questions.filter((function(e){return!!e.id}));if(i.length!==t.length)return!0;for(var o=0;o<i.length;o++){var r=i[o],c=t[o];if(r.id!==c.id||r.connectBy!==c.connectBy||r.query!==c.query)return!0}return!1},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"inquiryIsEdited",type:e,pure:!0}),e}(),We=t("d4mk"),Je=t("Y1dP"),He=function(){function e(){}return e.prototype.transform=function(e,n){return e&&n?e.filter((function(e){return e.consumer===a.a[n]})):[]},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"filterForConsumer",type:e,pure:!0}),e}(),Ge=t("AAUT"),Xe=function(){function e(){}return e.prototype.transform=function(e,n){var t=Ge.a.find((function(n){return n.name===e.name&&n.consumer===e.consumer}));return!(!t||n&&t.name!==n)},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"isSystemInquiry",type:e,pure:!0}),e}();function en(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-recent-search",10),c.hc("togglePinned",(function(e){return c.Bc(t),c.kc(2).togglePinned.next(e)}))("click",(function(e){c.Bc(t);var n=c.kc().$implicit;return c.kc().selectInquiry.next(n.id)})),c.Yb()}if(2&e){var i=c.kc().$implicit,o=c.kc();c.sc("inquiry",i)("closable",!1)("pinnable",!1)("showCounter",!1)("select",!!o.selectedInquiry&&i.id===o.selectedInquiry.id)}}function nn(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-recent-search",10),c.hc("togglePinned",(function(e){return c.Bc(t),c.kc(2).togglePinned.next(e)}))("click",(function(e){c.Bc(t);var n=c.kc().$implicit;return c.kc().selectInquiry.next(n.id)})),c.Yb()}if(2&e){var i=c.kc().$implicit,o=c.kc();c.sc("inquiry",i)("closable",!1)("pinnable",!1)("showCounter",!1)("select",!!o.selectedInquiry&&i.id===o.selectedInquiry.id)}}function tn(e,n){if(1&e&&(c.Zb(0,"div",8),c.Kc(1,en,1,5,"st-recent-search",9),c.lc(2,"isSystemInquiry"),c.Kc(3,nn,1,5,"st-recent-search",9),c.lc(4,"isSystemInquiry"),c.Yb()),2&e){var t=n.$implicit;c.Cb(1),c.sc("ngIf",c.nc(2,2,t,"Active saved searches")),c.Cb(2),c.sc("ngIf",c.nc(4,5,t,"Archived saved searches"))}}function on(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-recent-search",11),c.hc("togglePinned",(function(e){return c.Bc(t),c.kc().togglePinned.next(e)}))("click",(function(e){c.Bc(t);var i=n.$implicit;return c.kc().selectInquiry.next(i.id)}))("contextmenu",(function(e){c.Bc(t);var i=n.$implicit;return c.kc().contextMenu(e,i)}))("onClose",(function(e){return c.Bc(t),c.kc().closeInquiry.next(e)})),c.Yb()}if(2&e){var i=n.$implicit,o=c.kc();c.sc("inquiry",i)("select",!!o.selectedInquiry&&i.id===o.selectedInquiry.id)}}var rn=function(){function e(e,n){this.factory=e,this.cdr=n,this.inquiries=[],this.togglePinned=new c.n,this.selectInquiry=new c.n,this.newSearch=new c.n,this.closeInquiry=new c.n}return e.prototype.ngOnInit=function(){},e.prototype.contextMenu=function(e,n){var t;this.selectInquiry.next(n.id);var i=(new $e).transform(this.selectedInquiry);this.factory.forRecentSearch().forSingleItem({edited:i,reloadAction:(null===(t=n)||void 0===t?void 0:t.node)?Object(y.r)(n.node[0]):null,element:n.node,propertiesToEdit:Fe.c[n.node[0].type]}).show(e)},e.\u0275fac=function(n){return new(n||e)(c.Tb(We.a),c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-recent-searches"]],inputs:{inquiries:"inquiries",selectedInquiry:"selectedInquiry"},outputs:{togglePinned:"togglePinned",selectInquiry:"selectInquiry",newSearch:"newSearch",closeInquiry:"closeInquiry"},decls:15,vars:8,consts:[["id","container-top"],["id","section"],["nz-typography",""],["class","system-search",4,"ngFor","ngForOf"],["nz-button","","nzBlock","","nzSize","small",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],["id","container-bottom"],[3,"inquiry","select","togglePinned","click","contextmenu","onClose",4,"ngFor","ngForOf"],[1,"system-search"],[3,"inquiry","closable","pinnable","showCounter","select","togglePinned","click",4,"ngIf"],[3,"inquiry","closable","pinnable","showCounter","select","togglePinned","click"],[3,"inquiry","select","togglePinned","click","contextmenu","onClose"]],template:function(e,n){1&e&&(c.Zb(0,"div",0),c.Zb(1,"div",1),c.Zb(2,"span",2),c.Mc(3,"System:"),c.Yb(),c.Yb(),c.Kc(4,tn,5,8,"div",3),c.lc(5,"filterForConsumer"),c.Zb(6,"div",1),c.Zb(7,"span",2),c.Mc(8,"Recent searches:"),c.Yb(),c.Yb(),c.Zb(9,"button",4),c.hc("click",(function(e){return n.newSearch.next()})),c.Ub(10,"i",5),c.Mc(11,"Create new search"),c.Yb(),c.Yb(),c.Zb(12,"div",6),c.Kc(13,on,1,2,"st-recent-search",7),c.lc(14,"filterForConsumer"),c.Yb()),2&e&&(c.Cb(4),c.sc("ngForOf",c.nc(5,2,n.inquiries,"Client")),c.Cb(9),c.sc("ngForOf",c.nc(14,5,n.inquiries,"User")))},directives:[M.c,i.s,x.a,O.a,S.a,X.a,i.t,Je.a],pipes:[He,Xe],styles:["[_nghost-%COMP%]{position:absolute;height:100%;right:0;top:0;overflow-y:hidden;overflow-x:hidden;box-sizing:border-box}#container-top[_ngcontent-%COMP%]{top:0;height:170px;padding-top:5px;width:313px;margin-right:20px}#container-bottom[_ngcontent-%COMP%]{height:calc(100% - 170px);overflow-y:scroll;overflow-x:hidden;padding-top:10px}st-recent-searches-controls[_ngcontent-%COMP%]{bottom:0;width:100%}#section[_ngcontent-%COMP%]{font-size:12pt;margin:12px 5px 5px;opacity:.7}.system-search[_ngcontent-%COMP%]{margin-left:2px}button[_ngcontent-%COMP%]{margin-bottom:5px}#filler[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),e}(),cn=t("W9u+"),sn=t("yTlr"),un=t("P4PA"),an=t("QJHY"),ln=t("du9V"),dn=t("0f/F"),pn=t("vAkD"),hn=function(){function e(){}return e.prototype.transform=function(e){return e?new Date(e).toLocaleString():null},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"stringToDate",type:e,pure:!0}),e}(),fn=function(){function e(){}return e.prototype.transform=function(e){return e&&"number"!=typeof e?new Date(e):new Date},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"defaultPickerValue",type:e,pure:!0}),e}();function bn(e,n){if(1&e&&(c.Ub(0,"nz-option",15),c.lc(1,"stringToDate")),2&e){var t=c.kc();c.sc("nzValue",t.timeDependence)("nzLabel","Results at: "+c.mc(1,2,t.timeDependence))}}function gn(e,n){if(1&e){var t=c.ac();c.Zb(0,"div",16),c.Ub(1,"nz-divider"),c.Mc(2," Custom date: "),c.Zb(3,"nz-date-picker",17),c.hc("ngModelChange",(function(e){return c.Bc(t),c.kc().chooseDate(e)})),c.lc(4,"defaultPickerValue"),c.Yb(),c.Yb()}if(2&e){var i=c.kc();c.Cb(3),c.sc("ngModel",i.date)("nzShowTime",i.timeOpts)("nzDefaultPickerValue",c.mc(4,4,i.timeDependence))("nzDisabledDate",i.disableDate)}}var yn=function(){function e(e){this.cdr=e,this.sortOption=a.c.DESC,this.timeDependence=m.c.UpToDate,this.changeSort=new c.n,this.changeTimeDependence=new c.n,this.timeOpts={nzFormat:"HH:mm",nzMinuteStep:10},this.disableDate=function(e){return e.getTime()>Date.now()}}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this._enableForward(),this._enableBackward()},e.prototype.ngOnChanges=function(e){var n=e.timeDependence;n&&n.currentValue!==n.previousValue&&(this._enableForward(),this._enableBackward())},e.prototype.chooseDate=function(e){this.changeTimeDependence.next(e.toISOString()),this.isOpen=!1,this.cdr.detectChanges()},e.prototype.forward=function(){this.canGoForward&&this.changeTimeDependence.next(new Date(this._getNextTime("forward")).toISOString())},e.prototype.backward=function(){this.canGoBackward&&this.changeTimeDependence.next(new Date(this._getNextTime("backward")).toISOString())},e.prototype._enableForward=function(){this.canGoForward=this._getNextTime("forward")<=Date.now()},e.prototype._enableBackward=function(){this.canGoBackward=this._getNextTime("backward")>=0},e.prototype._getNextTime=function(e){var n=("string"==typeof this.timeDependence?new Date(this.timeDependence):new Date).getTime();return"forward"===e?n+864e5:n-864e5},e.\u0275fac=function(n){return new(n||e)(c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-time-travel-controls"]],inputs:{selectedInquiry:"selectedInquiry",sortOption:"sortOption",timeDependence:"timeDependence"},outputs:{changeSort:"changeSort",changeTimeDependence:"changeTimeDependence"},features:[c.Ab()],decls:19,vars:19,consts:[["id","time-travel-sec","title","Perform the search operation against a historical or up-to-date version of your Starling graph"],["nz-typography","","nzType","secondary"],["id","time-dependence","nzAllowClear","","title","Perform the search operation against a historical or up-to-date version of your Starling graph",1,"top-padding",3,"nzDropdownRender","ngModel","nzSize","nzOpen","nzPlaceHolder","ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nzLabel","Up-to-date graph data",3,"nzValue"],["nzLabel","Graph as at time of version creation",3,"nzValue","nzDisabled"],["nzLabel","Graph as at time of first save",3,"nzValue","nzDisabled"],["renderTemplate",""],["nz-typography","",3,"nzDisabled","click"],["nz-icon","","nzType","left","nzTheme","outline","title","Day backward"],["nz-icon","","nzType","right","nzTheme","outline","title","Day forward"],[3,"nzType"],["id","sort-option","title","Show newest results first or oldest results first",1,"top-padding",3,"ngModel","nzSize","nzPlaceHolder","ngModelChange"],["nzValue","DESC","nzLabel","Newest first"],["nzValue","ASC","nzLabel","Oldest first"],[3,"nzValue","nzLabel"],["id","select-extra"],[3,"ngModel","nzShowTime","nzDefaultPickerValue","nzDisabledDate","ngModelChange"]],template:function(e,n){if(1&e&&(c.Zb(0,"div",0),c.Zb(1,"span",1),c.Mc(2,"Time travel:"),c.Yb(),c.Yb(),c.Zb(3,"nz-select",2),c.hc("ngModelChange",(function(e){return n.changeTimeDependence.next(e)})),c.Kc(4,bn,2,4,"nz-option",3),c.lc(5,"isString"),c.Ub(6,"nz-option",4),c.Ub(7,"nz-option",5),c.Ub(8,"nz-option",6),c.Yb(),c.Kc(9,gn,5,6,"ng-template",null,7,c.Lc),c.Zb(11,"a",8),c.hc("click",(function(e){return n.backward()})),c.Ub(12,"i",9),c.Yb(),c.Zb(13,"a",8),c.hc("click",(function(e){return n.forward()})),c.Ub(14,"i",10),c.Yb(),c.Ub(15,"nz-divider",11),c.Zb(16,"nz-select",12),c.hc("ngModelChange",(function(e){return n.changeSort.next(e)})),c.Ub(17,"nz-option",13),c.Ub(18,"nz-option",14),c.Yb()),2&e){var t=c.Ac(10);c.Cb(3),c.sc("nzDropdownRender",t)("ngModel",n.timeDependence)("nzSize","small")("nzOpen",n.isOpen)("nzPlaceHolder","Default: Up-to-date"),c.Cb(1),c.sc("ngIf",c.mc(5,17,n.timeDependence)),c.Cb(2),c.sc("nzValue",0),c.Cb(1),c.sc("nzValue",1)("nzDisabled",!(null!=n.selectedInquiry&&n.selectedInquiry.node)),c.Cb(1),c.sc("nzValue",2)("nzDisabled",!(null!=n.selectedInquiry&&n.selectedInquiry.node)),c.Cb(3),c.sc("nzDisabled",!n.canGoBackward),c.Cb(2),c.sc("nzDisabled",!n.canGoForward),c.Cb(2),c.sc("nzType","vertical"),c.Cb(1),c.sc("ngModel",n.sortOption)("nzSize","small")("nzPlaceHolder","Order by")}},directives:[M.c,ln.e,C.m,C.p,i.t,ln.a,X.a,S.a,sn.a,dn.b],pipes:[pn.a,hn,fn],styles:["#time-travel-sec[_ngcontent-%COMP%]{display:inline-block;font-size:10pt;font-family:Assistant}#select-extra[_ngcontent-%COMP%]{padding:5px}nz-date-picker[_ngcontent-%COMP%]{margin-left:5px}a[_ngcontent-%COMP%]{font-size:10pt;margin-left:6px}#time-dependence[_ngcontent-%COMP%]{width:280px;margin-left:5px}#sort-option[_ngcontent-%COMP%]{width:120px}"],changeDetection:0}),e}(),mn=function(){function e(){}return e.prototype.transform=function(e,n){var t;return!(e&&(null===(t=n)||void 0===t?void 0:t.questions.filter((function(e){return!!e.id})).length))||n.consumer!==a.a.User},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=c.Sb({name:"canSave",type:e,pure:!0}),e}();function vn(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-toolbar-button",19),c.hc("click",(function(e){c.Bc(t);var i=n.ngVar;return c.kc()._clear(i)})),c.Ub(1,"i",20),c.Yb()}if(2&e){var i=n.ngVar;c.sc("form","square")("disabled",i)}}var wn=function(){function e(e){this.cdr=e,this.clear=new c.n,this.reload=new c.n,this.changeSort=new c.n,this.changeTimeDependence=new c.n,this.saveInquiry=new c.n,this.editAndSaveInquiry=new c.n,this.toggleShowArchived=new c.n,this.revert=new c.n,this.newSearch=new c.n}return e.prototype.ngOnInit=function(){},e.prototype._clear=function(e){e||this.clear.next()},e.\u0275fac=function(n){return new(n||e)(c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-inquiry-manager-header-content"]],inputs:{selectedInquiry:"selectedInquiry",selectedNode:"selectedNode",state:"state"},outputs:{clear:"clear",reload:"reload",changeSort:"changeSort",changeTimeDependence:"changeTimeDependence",saveInquiry:"saveInquiry",editAndSaveInquiry:"editAndSaveInquiry",toggleShowArchived:"toggleShowArchived",revert:"revert",newSearch:"newSearch"},decls:30,vars:21,consts:[["id","container"],["title","New search",3,"form","click"],["nz-icon","","nzType","plus","nzTheme","outline"],["title","Reload search",3,"form","click"],["nz-icon","","nzType","reload","nzTheme","outline"],["id","delete-btn","title","Clear search",3,"form","disabled","click",4,"ngVar"],[3,"nzType"],[1,"translate-y"],["id","save-btn","nz-button","","title","Save the current search",3,"nzType","disabled","mousedown"],["nz-icon","","nzType","save","nzTheme","outline"],["nz-button","","nz-dropdown","","nzClickHide","","nzPlacement","bottomRight",3,"nzDropdownMenu","nzDisabled"],["nz-icon","","nzType","down"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-menu-item","",3,"nzDisabled","click"],["nz-icon","","nzType","rollback","nzTheme","outline"],[1,"translate-y",3,"selectedInquiry","sortOption","timeDependence","changeSort","changeTimeDependence"],["id","delete-btn","title","Clear search",3,"form","disabled","click"],["nz-icon","","nzType","clear","nzTheme","outline",2,"color","#a12e2ebf"]],template:function(e,n){if(1&e&&(c.Zb(0,"div",0),c.Zb(1,"st-toolbar-button",1),c.hc("click",(function(e){return n.newSearch.next()})),c.Ub(2,"i",2),c.Yb(),c.Zb(3,"st-toolbar-button",3),c.hc("click",(function(e){return n.reload.next()})),c.Ub(4,"i",4),c.Yb(),c.Kc(5,vn,2,2,"st-toolbar-button",5),c.Ub(6,"nz-divider",6),c.Zb(7,"nz-button-group",7),c.Zb(8,"button",8),c.hc("mousedown",(function(e){return n.saveInquiry.next(n.selectedInquiry.id)})),c.lc(9,"canSave"),c.lc(10,"inquiryIsEdited"),c.Ub(11,"i",9),c.Mc(12,"Save"),c.Yb(),c.Zb(13,"button",10),c.Ub(14,"i",11),c.Yb(),c.Yb(),c.Zb(15,"nz-dropdown-menu",null,12),c.Zb(17,"ul",13),c.Zb(18,"li",14),c.hc("click",(function(e){return n.editAndSaveInquiry.next(null==n.selectedInquiry?null:n.selectedInquiry.id)})),c.Ub(19,"i",15),c.Mc(20," Edit and save"),c.Yb(),c.Zb(21,"li",16),c.hc("click",(function(e){return n.saveInquiry.next()})),c.Ub(22,"i",9),c.Mc(23," Save as new"),c.Yb(),c.Zb(24,"li",16),c.hc("click",(function(e){return n.revert.next(null==n.selectedInquiry?null:n.selectedInquiry.node)})),c.lc(25,"inquiryIsEdited"),c.Ub(26,"i",17),c.Mc(27," Revert"),c.Yb(),c.Yb(),c.Yb(),c.Ub(28,"nz-divider",6),c.Zb(29,"st-time-travel-controls",18),c.hc("changeSort",(function(e){return n.changeSort.next(e)}))("changeTimeDependence",(function(e){return n.changeTimeDependence.next(e)})),c.Yb(),c.Yb()),2&e){var t=c.Ac(16);c.Cb(1),c.sc("form","square"),c.Cb(2),c.sc("form","square"),c.Cb(2),c.sc("ngVar",!(null==n.selectedInquiry||!n.selectedInquiry.node)),c.Cb(1),c.sc("nzType","vertical"),c.Cb(2),c.sc("nzType",null!=n.selectedInquiry&&n.selectedInquiry.node?"danger":null)("disabled",c.nc(9,14,c.mc(10,17,n.selectedInquiry),n.selectedInquiry)),c.Cb(5),c.sc("nzDropdownMenu",t)("nzDisabled",!(null!=n.selectedInquiry&&n.selectedInquiry.node)),c.Cb(8),c.sc("nzDisabled",!0),c.Cb(3),c.sc("nzDisabled",!c.mc(25,19,n.selectedInquiry)),c.Cb(4),c.sc("nzType","vertical"),c.Cb(1),c.sc("selectedInquiry",n.selectedInquiry)("sortOption",null==n.selectedInquiry?null:n.selectedInquiry.sortOrder)("timeDependence",null==n.selectedInquiry?null:n.selectedInquiry.timeDependence)}},directives:[cn.a,X.a,S.a,G.a,sn.a,x.b,x.a,O.a,un.d,un.b,un.e,an.c,an.f,yn],pipes:[mn,$e],styles:["#container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:left;justify-content:left;padding-top:7px}i[_ngcontent-%COMP%]{font-size:11.5pt;opacity:.9}.top-padding[_ngcontent-%COMP%]{padding-top:3px}.translate-y[_ngcontent-%COMP%]{height:0;-webkit-transform:translateY(-7px);transform:translateY(-7px)}#delete-btn[_ngcontent-%COMP%]{margin-left:10px}#load-btn[_ngcontent-%COMP%]{margin-left:2px;-webkit-transform:translateY(-1px);transform:translateY(-1px)}"],changeDetection:0}),e}(),In=function(){return(In=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},zn=["headerContent"];function qn(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-recent-searches",3),c.hc("togglePinned",(function(e){return c.Bc(t),c.kc().togglePinned(e)}))("selectInquiry",(function(e){return c.Bc(t),c.kc().selectInquiry(e)}))("newSearch",(function(e){return c.Bc(t),c.kc().createNewSearch()}))("closeInquiry",(function(e){return c.Bc(t),c.kc().closeInquiry(e)})),c.Yb()}if(2&e){var i=c.kc();c.sc("inquiries",i.inquiries)("selectedInquiry",i.selectedInquiry)}}function kn(e,n){if(1&e){var t=c.ac();c.Zb(0,"st-inquiry-manager-header-content",4),c.hc("saveInquiry",(function(e){return c.Bc(t),c.kc().saveInquiry(e)}))("editAndSaveInquiry",(function(e){return c.Bc(t),c.kc().editAndSaveInquiry(e)}))("clear",(function(e){return c.Bc(t),c.kc().clear()}))("reload",(function(e){return c.Bc(t),c.kc().reload()}))("changeSort",(function(e){return c.Bc(t),c.kc().changeSort(e)}))("changeTimeDependence",(function(e){return c.Bc(t),c.kc().changeTimeDependence(e)}))("toggleShowArchived",(function(e){return c.Bc(t),c.kc().toggleShowArchived(e)}))("revert",(function(e){return c.Bc(t),c.kc().revert(e)}))("newSearch",(function(e){return c.Bc(t),c.kc().createNewSearch()})),c.Yb()}if(2&e){var i=c.kc();c.sc("selectedInquiry",i.selectedInquiry)("selectedNode",i.selectedNode)("state",i.state)}}var xn=function(){function e(e,n,t,i,o){this.store=e,this.cdr=n,this.header=t,this.persistService=i,this.modalService=o,this.subscriptions=new h.a,this.onError=new c.n,this.persistService.registerForFeature(v.d,"loadedInquiries",{key:"inquiries",trimFn:function(e){return e.filter((function(e){return e.pinned})).map((function(e){var n=e.questions.filter((function(e){return!!e.id})).map((function(e){return In(In({},e),{pagesLoaded:{},size:void 0})}));return In(In({},e),{stale:!0,questionInEditIdx:void 0,selectedQuestionIdx:n.length-1,questions:n})}))}})}return Object.defineProperty(e.prototype,"singleSearchMode",{set:function(e){this.store.dispatch(Object(y.O)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{set:function(e){this._seed=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.store.dispatch(Object(b.a)("Filter results",!0)),this.subscriptions.add(this.store.select(v.c).subscribe((function(n){e.inquiries=n,e.cdr.detectChanges()}))).add(this.store.select(v.i).subscribe((function(n){e.selectedInquiry=n,e.cdr.detectChanges()}))).add(this.store.select(v.l).subscribe((function(n){e.selectedQuestion=n,e.cdr.detectChanges()}))).add(this.store.select(v.f).subscribe((function(n){e.questionInEdit=n,e.cdr.detectChanges()}))).add(this.store.select(v.g).subscribe((function(n){e.questionList=n,e.cdr.detectChanges()}))).add(this.store.select(v.d).subscribe((function(n){e.state=n,e.cdr.detectChanges()}))).add(this.store.select(v.k).subscribe((function(n){e.header.setContent(n?null:e.headerContent),e.cdr.detectChanges()}))).add(this.store.select(v.j).subscribe((function(n){e.selectedNode=n,e.cdr.detectChanges()})))},e.prototype.ngAfterViewInit=function(){var e;(null===(e=this.state)||void 0===e?void 0:e.ssm)&&this._seed&&this._seed[0].type!==u.f.Inquiry&&this._seed[0].type!==u.f.Subgraph&&this.store.dispatch(Object(y.M)({errType:m.a.WrongSeed,title:"There was an error seeding this search operation",message:'Searching within an existing data set is available for "Inquiry" or a "Subgraph" data points. Please check the selected data point used as seed.',blocking:!0}))},e.prototype.search=function(e){this.store.dispatch(Object(y.a)(e))},e.prototype.onInput=function(e){if(!this.selectedInquiry)return this.store.dispatch(Object(y.k)(void 0,{consumer:a.a.User,name:void 0,pinned:!1,questions:[{query:e,connectBy:d.a.And}],selectedQuestionIdx:0}));this.questionInEdit||this.store.dispatch(Object(y.q)()),this.store.dispatch(Object(y.N)(e))},e.prototype.setConnectorType=function(e){this.store.dispatch(Object(y.L)(Object(g.k)(e.op),e.questionId))},e.prototype.togglePinned=function(e){this.store.dispatch(Object(y.S)(e))},e.prototype.selectQuestion=function(e){this.store.dispatch(Object(y.K)(e))},e.prototype.editQuestion=function(e){e&&this.store.dispatch(Object(y.o)(e))},e.prototype.reloadQuestion=function(e){e&&this.store.dispatch(Object(y.E)(e))},e.prototype.insertQuestion=function(e){e&&this.store.dispatch(Object(y.q)(e))},e.prototype.deleteQuestion=function(e){this.store.dispatch(Object(y.m)(e))},e.prototype.selectItem=function(e){e&&this.store.dispatch(Object(y.J)(e))},e.prototype.selectInquiry=function(e){e&&this.store.dispatch(Object(y.I)(e))},e.prototype.loadInquiry=function(e){Object(l.g)(e)&&this.store.dispatch(Object(y.r)(e[0]))},e.prototype.clear=function(){this.store.dispatch(Object(y.g)())},e.prototype.reload=function(){this.store.dispatch(Object(y.D)())},e.prototype.changeSort=function(e){this.store.dispatch(Object(y.P)(e))},e.prototype.changeTimeDependence=function(e){this.store.dispatch(Object(y.Q)(e))},e.prototype.closeError=function(e){var n,t;null===(n=this.state)||void 0===n||!n.error||null!==(t=this.state)&&void 0!==t&&t.error.blocking||this.store.dispatch(Object(y.M)(null))},e.prototype.saveInquiry=function(e){var n=this;if(e){var t=this.inquiries.find((function(n){return n.id===e}));if(t.node)return this.store.dispatch(Object(y.F)(e,{}));this.modalService.saveInquiry(t,{},(function(t){return n.store.dispatch(Object(y.F)(e,t))}))}},e.prototype.editAndSaveInquiry=function(e){var n=this,t=this.inquiries.find((function(n){return n.id===e}));t.node&&this.modalService.saveInquiry(t,{name:t.node[1].name,archive:t.node[1].archive,description:t.node[1].description},(function(t){return n.store.dispatch(Object(y.F)(e,t))}))},e.prototype.toggleShowArchived=function(e){},e.prototype.createNewSearch=function(){this.store.dispatch(Object(y.k)())},e.prototype.revert=function(e){Object(l.g)(e)&&e[0].type===u.f.Inquiry&&this.store.dispatch(Object(y.r)(e[0]))},e.prototype.closeInquiry=function(e){"string"==typeof e&&this.store.dispatch(Object(y.h)(e))},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.\u0275fac=function(n){return new(n||e)(c.Tb(w.b),c.Tb(c.h),c.Tb(f.a),c.Tb(s.f),c.Tb(p.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-inquiry-manager"]],viewQuery:function(e,n){var t;1&e&&c.Rc(zn,!0),2&e&&c.zc(t=c.ic())&&(n.headerContent=t.first)},inputs:{singleSearchMode:"singleSearchMode",seed:"seed"},outputs:{onError:"onError"},decls:4,vars:7,consts:[[3,"selectedQuestion","selectedInquiry","questionInEdit","questionList","error","selectedNode","onSearch","onInput","onChangeOperator","selectQuestion","onSelectItem","editQuestion","reloadQuestion","insertQuestion","deleteQuestion"],[3,"inquiries","selectedInquiry","togglePinned","selectInquiry","newSearch","closeInquiry",4,"ngIf"],["headerContent",""],[3,"inquiries","selectedInquiry","togglePinned","selectInquiry","newSearch","closeInquiry"],[3,"selectedInquiry","selectedNode","state","saveInquiry","editAndSaveInquiry","clear","reload","changeSort","changeTimeDependence","toggleShowArchived","revert","newSearch"]],template:function(e,n){1&e&&(c.Zb(0,"st-inquiry",0),c.hc("onSearch",(function(e){return n.search(e)}))("onInput",(function(e){return n.onInput(e)}))("onChangeOperator",(function(e){return n.setConnectorType(e)}))("selectQuestion",(function(e){return n.selectQuestion(e)}))("onSelectItem",(function(e){return n.selectItem(e)}))("editQuestion",(function(e){return n.editQuestion(e)}))("reloadQuestion",(function(e){return n.reloadQuestion(e)}))("insertQuestion",(function(e){return n.insertQuestion(e)}))("deleteQuestion",(function(e){return n.deleteQuestion(e)})),c.Yb(),c.Kc(1,qn,1,2,"st-recent-searches",1),c.Kc(2,kn,1,3,"ng-template",null,2,c.Lc)),2&e&&(c.sc("selectedQuestion",n.selectedQuestion)("selectedInquiry",n.selectedInquiry)("questionInEdit",n.questionInEdit)("questionList",n.questionList)("error",null==n.state?null:n.state.error)("selectedNode",n.selectedNode),c.Cb(1),c.sc("ngIf",!(null!=n.state&&n.state.ssm)))},directives:[Re,i.t,rn,wn],styles:[""],changeDetection:0}),e}(),Cn=[{path:"",component:function(){function e(e){this.engine=e}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(n){return new(n||e)(c.Tb(r.b))},e.\u0275cmp=c.Nb({type:e,selectors:[["st-search"]],decls:1,vars:1,consts:[[3,"singleSearchMode"]],template:function(e,n){1&e&&c.Ub(0,"st-inquiry-manager",0),2&e&&c.sc("singleSearchMode",!1)},directives:[xn],styles:[""]}),e}()}],On=function(){function e(){}return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(n){return new(n||e)},imports:[[i.c,o.j.forChild(Cn)],o.j]}),e}(),Sn=t("PCNd"),Tn=t("I/eH");t.d(n,"SearchModule",(function(){return Mn}));var Mn=function(){function e(){}return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(n){return new(n||e)},imports:[[i.c,Sn.a,On,Tn.a]]}),e}()}}]);